{"version":3,"sources":["./src/app/layout/external-passes/passes/passes-routing.module.ts","./src/app/layout/external-passes/passes/passes.component.ts","./src/app/layout/external-passes/passes/passes.component.html","./src/app/layout/external-passes/passes/passes.module.ts","./src/app/layout/external-passes/passes/passes.component.css"],"names":[],"mappings":"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","file":"external-passes-passes-passes-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PassesComponent } from './passes.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: PassesComponent,\n        children: []\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class PassesRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { DbService } from \"../../../db.service\";\nimport { DataService } from \"../../../data.service\";\nimport {formatDate} from '@angular/common';\nimport { Router } from '@angular/router';\n\n//PDF\nimport { PdfMakeWrapper, Img, Txt } from \"pdfmake-wrapper\";\nimport * as pdfFonts from \"pdfmake/build/vfs_fonts\";\n\n\n@Component({\n    selector: 'app-passes',\n    templateUrl: './passes.component.html',\n    styleUrls: ['./passes.component.css']\n})\nexport class PassesComponent implements OnInit {\n\n\n    file :any;\n    passes : any;\n    offices:any;\n\n    newPasse = {\n        id:\"\",\n        passe_id:\"\",\n        file_id:\"\",\n        from: \"\",\n        from_date:\"\",\n        to:\"\",\n        to_date:\"\",\n        status:true,\n        response:\"\",\n        responsable:localStorage.getItem('id'),\n        responsable_name: localStorage.getItem(\"name\"),\n    };\n    today:Date;\n    groups:any;\n    closed: boolean;\n    editing:boolean;\n    ready_print:boolean;\n    aux:any;\n\n    public alerts: Array<any> = [];\n\n    constructor(private DB: DbService, private DATA: DataService, private router: Router) {\n\n        this.alerts= this.DB.alerts;\n\n    }\n\n    ngOnInit(): void {\n\n        this.today = new Date();\n        this.newPasse.from_date =  formatDate(this.today,  'yyyy-MM-dd HH:mm:ss' , 'en-US');\n        this.newPasse.to_date =  formatDate(this.today,  'yyyy-MM-dd HH:mm:ss', 'en-US');\n\n        this.file =  this.DATA.file[0];\n        this.newPasse.file_id = this.file.id;\n\n        this.DB.External_passe_search(this.file.id).subscribe({\n        next: data => {\n                this.passes = data;\n\n                if(!this.passes.data[0].status){\n                    this.closed=true;\n                    this.newPasse.to = this.passes.data[0].to;\n                }else{\n                    this.closed=false;\n                }\n\n                if(!this.passes.data[0].to){\n                   this.editing = true;\n                }else{\n                    this.editing=false;\n                }\n\n            }});\n        this.DB.Offices_list().subscribe({\n            next: data=> {\n                 this.aux = data\n                this.offices = this.aux.data;\n            }\n        })\n    }\n\n      addPasse(){\n\n         this.newPasse.status = false;\n         this.closed = false;\n         this.DB.External_passe_create(this.newPasse).subscribe({\n\n             next: data => {\n                this.DB.alerts.push({\n                    id: 1,\n                    type: 'success',\n                    message: 'Pase Agregado'\n                    });\n\n\n                const new_internal_passe = {\n                    from: this.newPasse.responsable,\n                    from_date: this.newPasse.from_date,\n                    responsable: this.newPasse.responsable,\n                    status: this.newPasse.status,\n                    external_passe: data.id,\n                }\n                this.DB.internal_passe_create(new_internal_passe).subscribe({\n                    next: data=>{\n                        this.DB.alerts.push({\n                            id: 1,\n                            type: 'success',\n                            message: 'Pase interno agregado'\n                        });\n\n                        this.seePasse(data.external_passe);\n                        this.router.navigate(['/passe']);\n                    },\n                    error: error => {\n                        console.log(error);\n                        this.DB.alerts.push({\n                            id: 1,\n                            type: 'danger',\n                            message: error.message\n                        });\n                    }\n                })\n            },\n                error: error => {\n                    console.log(error);\n                    this.DB.alerts.push({\n                    id: 1,\n                    type: 'danger',\n                    message: error.message\n                    });\n                }\n            });\n\n\n     }\n\n     updatePasse(passe_id){\n\n        if(this.passes.data[passe_id].response == \"\"){\n             this.DB.alerts.push({\n                 id: 1,\n                 type: 'success',\n                 message:\"Falta Completar respuesta\"\n             });\n         }\n\n         else if (this.newPasse.to == \"\"){\n             this.DB.alerts.push({\n                 id: 1,\n                 type: 'success',\n                 message:\"Falta completar destino\"\n             });\n         }\n         else if (this.newPasse.to_date == \"\"){\n             this.DB.alerts.push({\n                 id: 1,\n                 type: 'success',\n                 message:\"Falta completar fecha de cierre\"\n             });\n         }\n          else{\n\n\n            this.newPasse.id = this.passes.data[passe_id].id;\n            this.newPasse.status = false;\n            this.closed = false;\n\n              this.DB.External_passe_update(this.newPasse).subscribe({\n                  next: data => {\n\n                        this.ngOnInit();\n                     },\n                      error: err =>{\n                          console.log(err);\n                      }\n                  });\n\n\n              }\n     }\n\n     public close_external_passe(passe_id){\n        console.log('si aca');\n\n        console.log(this.passes.data[passe_id].response);\n\n       if(this.passes.data[passe_id].response == null){\n            this.DB.alerts.push({\n                id: 1,\n                type: 'danger',\n                message:\"Falta Completar respuesta\"\n            });\n        }\n\n        else if (this.passes.data[passe_id].to == \"\"){\n            this.DB.alerts.push({\n                id: 1,\n                type: 'danger',\n                message:\"Falta completar destino\"\n            });\n        }\n\n        else{\n\n\n           this.newPasse.id = this.passes.data[passe_id].id;\n           this.newPasse.status = true;\n           this.closed = true;\n\n\n             this.DB.File_close(this.passes.data[passe_id].file.id).subscribe({\n                 next: data => {\n                        this.DB.External_passe_close(this.passes.data[passe_id].id).subscribe({\n                            next: data => {\n                               this.ngOnInit();\n                            },\n                            error: err =>{\n                                console.log(err);\n                            }\n                        });\n\n                    },\n                     error: err =>{\n                         console.log(err);\n                     }\n                 });\n\n\n             }\n\n             this.newPasse.from = \"\";\n             this.newPasse.to = \"\";\n     }\n\n     editPasse(){\n         this.editing=true;\n     }\n\n      public closeAlert(alert: any) {\n         const index: number = this.alerts.indexOf(alert);\n         this.alerts.splice(index, 1);\n     }\n\n     seePasse(file_id){\n         this.DATA.External_passe_edit_id = file_id;\n         this.router.navigate(['/passe']);\n\n     }\n\n     public goToUrl(url:any){\n\n        this.DB.GoToUrl(url).subscribe({\n            next:\n                 data =>{\n                     this.passes = data;\n                     console.log(this.passes);\n\n                    }});\n\n    }\n\n    public exports(id){\n        console.log(id);\n\n        this.DB.External_passe_export(id);\n    }\n\n}\n","export default \"\\n<!-- ////////////////////////////////header///////////////////////////// -->\\n<div [@routerTransition]>\\n    <div class=\\\"card mb-3 \\\">\\n        <div class=\\\"card-header d-flex justify-content-between\\\">\\n            <div class=\\\"d-flex\\\"> Pases de Expediente N°\\n                <div class=\\\"ml-2 \\\" style=\\\"font-weight: 900;\\\">\\n                    {{file.dependence_number}}-{{file.central_number}}-{{file.final_number}}\\n                </div>\\n            </div>\\n            <button\\n                type=\\\"button\\\"\\n                class=\\\"btn btn-m btn-danger\\\"\\n                [routerLink]=\\\"['/listExp']\\\">\\n                Volver\\n            </button>\\n        </div>\\n    <div>\\n        <table class=\\\"table table-hover table-striped m-0\\\">\\n            <thead>\\n                <tr class=\\\"mx-auto\\\">\\n                    <th style=\\\"width: 300px;\\\">Iniciador</th>\\n                    <th style=\\\"width: auto;\\\" >Referencia</th>\\n                    <th style=\\\"width: 200px;\\\">Grupo</th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                <td style=\\\"padding: 4px; padding-top: 8px; padding-bottom: 8px;\\\">\\n                    <textarea type=\\\"text\\\"\\n                        rows=\\\"2\\\"\\n                        style=\\\"font-size: small;\\\"\\n                        class=\\\"form-control mr-1  p-0 text-center\\\"\\n                        [(ngModel)]=\\\"file.initiator\\\"\\n                        aria-label=\\\"Sizing example input\\\"\\n                        aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                        disabled>\\n                    </textarea>\\n                </td>\\n                <td style=\\\"padding: 4px; padding-top: 8px; padding-bottom: 8px;\\\">\\n                    <textarea type=\\\"text\\\"\\n                        style=\\\"font-size: small;\\\"\\n                        class=\\\"form-control mr-1  p-0 text-center\\\"\\n                        [(ngModel)]=\\\"file.concept\\\"\\n                        aria-label=\\\"Sizing example input\\\"\\n                        aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                        disabled>\\n                    </textarea>\\n                </td>\\n\\n                <td style=\\\"padding: 4px; padding-top: 8px; padding-bottom: 8px;\\\">\\n                    <textarea type=\\\"text\\\"\\n                    style=\\\"font-size: small;\\\"\\n                        class=\\\"form-control mr-1 p-0 text-center\\\"\\n                        [(ngModel)]=\\\"file.agrupation.name\\\"\\n                        aria-label=\\\"Sizing example input\\\"\\n                        aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                        disabled>\\n                    </textarea>\\n                </td>\\n            </tbody>\\n        </table>\\n    </div>\\n\\n<!-- //////////////////////////////////ALERTS//////////////////////////// -->\\n<p *ngFor=\\\"let alert of alerts\\\" class=\\\"small\\\">\\n    <ngb-alert class=\\\"m-0\\\" (close)=\\\"closeAlert(alert)\\\" [type]=\\\"alert.type\\\">{{alert.message}}</ngb-alert>\\n</p>\\n\\n<!-- //////////////////////////////////TABLA//////////////////////////// -->\\n        <div class=\\\"card-body table-responsive p-0\\\">\\n            <table class=\\\"table table-hover table-striped mb-0\\\">\\n                <thead>\\n                    <tr class=\\\"mx-auto\\\">\\n                        <th style=\\\"width: 3px;\\\" class=\\\"small pt-0 pb-0 px-2\\\">N°</th>\\n                        <th style=\\\"width: 200px;\\\" class=\\\"small pt-0 pb-0 px-2 \\\">Desde</th>\\n                        <th style=\\\"width:100px;\\\" class=\\\"small pt-0 pb-0 px-2\\\">Fecha Ingreso</th>\\n                        <th class=\\\"small pt-0 pb-0 px-2\\\">Respuesta</th>\\n                        <th style=\\\"width:100px;\\\" class=\\\"small pt-0 pb-0 px-2\\\">En Posesión de</th>\\n                        <th style=\\\"width:200px;\\\" class=\\\"small pt-0 pb-0 px-2\\\">Destino</th>\\n                        <th style=\\\"width: 100px;\\\" class=\\\"small pt-0 pb-0 px-2\\\">Fecha Salida</th>\\n                        <th style=\\\"width: 115px;\\\" class=\\\"small pt-0 pb-0 px-2\\\"></th>\\n\\n                    </tr>\\n                </thead>\\n                <tbody >\\n                    <tr *ngIf=\\\"!closed\\\" >\\n                        <td class=\\\"small m-0 p-1\\\"> {{passes.total + 1}} </td>\\n\\n                        <td class=\\\"m-0 p-1\\\">\\n\\n                            <select class=\\\"form-control small mr-1 p-0 text-center w-100 h-75 \\\"\\n                                aria-label=\\\"Sizing example input\\\"\\n                                aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                                [(ngModel)]=\\\"newPasse.from\\\">\\n                                    <option></option>\\n                                    <option *ngFor=\\\"let office of offices\\\" [value]=\\\"office.id\\\">\\n                                        {{office.name}}\\n                                    </option>\\n                            </select>\\n\\n                            <td class=\\\"small pt-0 pb-0 px-2\\\"> {{newPasse.from_date}} </td>\\n                        <td  class=\\\"m-0 p-0 pt-1 px-1\\\"><textarea style=\\\"height:25px;\\\" small type=\\\"text\\\" class=\\\"small b-0 p-0 m-0 w-100\\\" disabled [(ngModel)]=\\\"newPasse.response\\\"></textarea></td>\\n                        <td  class=\\\"m-0 p-1\\\"><input type=\\\"text\\\" class=\\\"small w-100\\\" [(ngModel)]=\\\"newPasse.responsable_mame\\\"   disabled></td>\\n\\n                        <select class=\\\"form-control small mr-1 p-0 text-center w-100 h-75 \\\" disabled\\n                                aria-label=\\\"Sizing example input\\\"\\n                                aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                                [(ngModel)]=\\\"newPasse.to\\\">\\n                                <option></option>\\n                                    <option *ngFor=\\\"let office of offices\\\" [value]=\\\"office.id\\\">\\n                                        {{office.name}}\\n                                    </option>\\n                            </select>\\n\\n                            <td class=\\\"small pt-0 pb-0 px-2\\\"> {{newPasse.to_date}} </td>\\n                        <td class=\\\"m-0 p-1 d-flex justify-content-center\\\">\\n                            <button\\n                                class=\\\"btn btn-outline-success small p-0 px-1 m-0 h-100\\\"\\n                                aria-label=\\\"Sizing example input\\\"\\n                                aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                                type=\\\"button\\\"\\n                                (click)=\\\"addPasse()\\\">\\n                                    Guardar\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    <tr *ngFor=\\\"let passe of passes.data; let i = index \\\">\\n                        <td class=\\\"small pt-0 pb-0 px-2\\\" (click)=\\\"seePasse(passe.id)\\\"> {{passes.from + i}} </td>\\n                        <td class=\\\"small pt-0 pb-0 px-2\\\" (click)=\\\"seePasse(passe.id)\\\">  {{passe.from__office.name}} </td>\\n                        <td class=\\\"small pt-0 pb-0 px-2\\\" (click)=\\\"seePasse(passe.id)\\\"> {{passe.from_date}}</td>\\n                        <td class=\\\"small pt-0 pb-0 px-2\\\" (click)=\\\"seePasse(passe.id)\\\"> <textarea rows=\\\"2\\\" style=\\\"width: 100%; height: 100%;\\\" disabled>{{passe.response}}</textarea>  </td>\\n\\n                        <td class=\\\"small pt-0 pb-0 px-2\\\" (click)=\\\"seePasse(passe.id)\\\"> {{passe.user.name}} </td>\\n                        <td class=\\\"small pt-0 pb-0 px-2\\\" (click)=\\\"seePasse(passe.id)\\\"\\n\\n                        *ngIf=\\\"passe.status; else elseTo\\\" > {{passe.to__office.name}} </td>\\n                        <ng-template #elseTo >\\n                            <td class=\\\"small pt-1 pb-0 px-2 \\\" *ngIf=\\\"!editing ; else elseComplete\\\" (click)=\\\"seePasse(passe.id)\\\">\\n                                {{passe.to__office.name}}\\n                            </td>\\n\\n                            <ng-template #elseComplete>\\n                                <select class=\\\"form-control small mr-1 p-0 text-center w-100 h-75 \\\"\\n                                        aria-label=\\\"Sizing example input\\\"\\n                                        aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                                        [(ngModel)]=\\\"newPasse.to\\\">\\n                                            <option *ngFor=\\\"let office of offices\\\" [value]=\\\"office.id\\\">\\n                                        {{office.name}}\\n                                            </option>\\n                                </select>\\n                            </ng-template>\\n                        </ng-template>\\n\\n                        <td style=\\\" padding: 0; padding-right: 5px;\\\" *ngIf=\\\"!passe.status; else elseClose\\\" >\\n\\n\\n                            <div style=\\\"display: flex; justify-content: space-between;\\\">\\n\\n                                <div *ngIf = \\\"!passe.status\\\" style=\\\"display: flex;\\\">\\n\\n                                <button *ngIf=\\\"!editing\\\"\\n                                    style=\\\"font-size: small;\\\"\\n                                    class=\\\"btn btn-outline-warning pt-0 pb-0 px-2  ml-1 mt-1 \\\"\\n                                    type=\\\"button\\\"\\n                                    (click)=\\\"editPasse()\\\">\\n                                        Editar\\n                                </button>\\n\\n                                    <button *ngIf=\\\"editing || passe.to == null; else elseSave\\\"\\n                                        class=\\\"btn btn-outline-success pt-0 pb-0 px-2  ml-1 mt-1 \\\"\\n                                        type=\\\"button\\\"\\n                                        (click)=\\\"updatePasse(i)\\\">\\n                                            guardar\\n                                    </button>\\n\\n                                    <ng-template #elseSave>\\n                                        <button\\n                                            style=\\\"font-size: small;\\\"\\n                                            class=\\\"btn btn-outline-success pt-0 pb-0 px-2  ml-1 mt-1 small\\\"\\n                                            type=\\\"button\\\"\\n                                            (click)=\\\"close_external_passe(i)\\\">\\n                                                Cerrar\\n                                        </button>\\n                                    </ng-template>\\n                                </div>\\n                            </div>\\n                        </td>\\n\\n                        <ng-template #elseClose>\\n                            <td class=\\\"small pt-0 pb-0 px-2\\\"> {{passe.to_date}} </td>\\n                        </ng-template>\\n\\n                        <td style= \\\"padding: 0; padding-right: 5px; \\\">\\n                            <div style=\\\"display: flex;justify-content: space-between; \\\">\\n                                <button\\n                                    style=\\\"font-size: small;\\\"\\n                                    class=\\\"btn btn-outline-primary pt-0 pb-0 px-2  mt-1 small\\\"\\n                                    type=\\\"button\\\"\\n                                    (click)=\\\"seePasse(passe.id)\\\">\\n                                        ver\\n                                </button>\\n                                    <button *ngIf=\\\"!passe.status && passe.to && passe.response \\\"\\n                                    style=\\\"font-size: small;\\\"\\n                                        class=\\\"btn btn-outline-info pt-0 pb-0 px-2  mt-1 small \\\"\\n                                        type=\\\"button\\\"\\n                                        (click)=\\\"exports(passe.id)\\\">\\n                                            Imprimir\\n                                </button>\\n                            </div>\\n                        </td>\\n                    </tr>\\n                   </tbody>\\n            </table>\\n\\n        </div>\\n    </div>\\n</div>\\n\\n\\n\\n<!-- pagination -->\\n<nav aria-label=\\\"Page navigation example\\\" class=\\\"d-flex justify-content-center \\\">\\n    <ul class=\\\"pagination\\\" *ngFor = \\\" let item of passes.links; let i = index\\\">\\n\\n        <div *ngIf=\\\"item.active; else noActive\\\">\\n            <li class=\\\"page-item active\\\"  >\\n                <a class=\\\"page-link p-0 pl-1 pr-1 active\\\" style=\\\"margin: 1px;\\\" [innerHTML]= item.label></a>\\n            </li>\\n        </div>\\n        <ng-template #noActive >\\n\\n\\n            <ng-container *ngIf=\\\"(passes.current_page === passes.last_page && i == passes.last_page +1) || (passes.current_page === 1 && i ==0)    ; else elseTemplate\\\">\\n                <li class=\\\"page-item disabled\\\">\\n                    <p class=\\\"page-link p-0 pl-1 pr-1 \\\" style=\\\"margin: 1px;\\\" [innerHTML]= item.label></p>\\n                </li>\\n            </ng-container>\\n            <ng-template #elseTemplate>\\n                <li class=\\\"page-item\\\"  >\\n                    <p class=\\\"page-link p-0 pl-1 pr-1 \\\" style=\\\"margin: 1px;\\\"  (click)=\\\"goToUrl(item.url)\\\" [innerHTML]= item.label></p>\\n                </li>\\n            </ng-template>\\n\\n        </ng-template>\\n    </ul>\\n</nav>\\n<!-- pagination end -->\\n\\n\";","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { PageHeaderModule } from '../../../shared';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport {FormsModule} from '@angular/forms';\n\nimport { PassesRoutingModule } from './passes-routing.module';\nimport { PassesComponent } from './passes.component';\n\n@NgModule({\n    imports: [CommonModule, PassesRoutingModule, PageHeaderModule, NgbModule, FormsModule],\n    declarations: [PassesComponent]\n})\nexport class PassesModule {}\n","export default \"input[type=number]::-webkit-outer-spin-button,\\n\\ninput[type=number]::-webkit-inner-spin-button {\\n\\n    -webkit-appearance: none;\\n\\n    margin: 0;\\n\\n}\\n\\n\\n\\ninput[type=number] {\\n\\n    -moz-appearance:textfield;\\n\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0lBSUksd0JBQXdCOztJQUV4QixTQUFTOztBQUViOzs7O0FBSUE7O0lBRUkseUJBQXlCOztBQUU3QiIsImZpbGUiOiJwYXNzZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImlucHV0W3R5cGU9bnVtYmVyXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbixcblxuaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcblxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcblxuICAgIG1hcmdpbjogMDtcblxufVxuXG5cblxuaW5wdXRbdHlwZT1udW1iZXJdIHtcblxuICAgIC1tb3otYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7XG5cbn1cbiJdfQ== */\";"],"sourceRoot":"webpack:///"}