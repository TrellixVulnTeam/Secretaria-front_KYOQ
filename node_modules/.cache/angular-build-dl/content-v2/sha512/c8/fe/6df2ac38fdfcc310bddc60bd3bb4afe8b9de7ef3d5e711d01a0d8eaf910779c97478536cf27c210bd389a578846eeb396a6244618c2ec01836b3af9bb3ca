{"version":3,"sources":["webpack:///src/app/layout/Files/create-exp/create-exp.component.html","webpack:///src/app/layout/Files/create-exp/create-exp-routing.module.ts","webpack:///src/app/layout/Files/create-exp/create-exp.component.css","webpack:///src/app/layout/Files/create-exp/create-exp.component.ts","webpack:///src/app/layout/Files/create-exp/create-exp.module.ts"],"names":["routes","path","component","createExpRoutingModule","imports","forChild","exports","CreateExpComponent","DB","router","DATA","page","fileSearch","search_id","search_dependence_number","search_number","search_final_number","search_initiator","search_concept","search_group","search_status","search_user_id","localStorage","getItem","totPage","perPage","alerts","event","key","firstSearch","search","changeFocus","empty","saveExp","console","log","navigate","activate","Agrupations_list","subscribe","data","groups","N1","nativeElement","focus","length","push","id","type","message","validate","search_central_number","File_validation_create","aux","total","dependence_number","central_number","final_number","initiator","concept","agrupation","name","status","new_file","File_create","next","file","File_id","error","menssage","id_file","filter","x","n","N2","N3","BSearch","Init","SeePasses","alert","index","indexOf","splice","selector","template","CreateexpModule","declarations"],"mappings":"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","file":"Files-create-exp-create-exp-module-es5.js","sourcesContent":["export default \"<div class=\\\"card mb-3\\\">\\n    <div class=\\\"card-header d-flex justify-content-between\\\">Agregar Expediente\\n      <div class=\\\"d-flex\\\">\\n        <div class = \\\"d-flex\\\" *ngIf =\\\"firstSearch\\\">\\n            <div *ngIf=\\\"empty; else dontEmpty\\\" >\\n                <button (click)='saveExp()'\\n                type=\\\"button\\\"\\n                class=\\\"btn btn-m btn-success mr-1\\\">\\n                Guardar\\n                </button>\\n            </div>\\n            <ng-template #dontEmpty>\\n                <button #SeePasses (click)='see_passe(fileSearch.search_id)'\\n                type=\\\"button\\\"\\n                class=\\\"btn btn-m btn-success mr-1\\\"\\n                [routerLink]=\\\"['/passes']\\\"  >\\n                Ver Pase\\n                </button>\\n            </ng-template>\\n        </div>\\n\\n        <button\\n            type=\\\"button\\\"\\n            class=\\\"btn btn-m btn-danger\\\"\\n            [routerLink]=\\\"['/listExp']\\\">\\n            Volver\\n        </button>\\n      </div>\\n    </div>\\n    <p *ngFor=\\\"let alert of alerts\\\">\\n      <ngb-alert class=\\\"m-0\\\" (close)=\\\"closeAlert(alert)\\\" [type]=\\\"alert.type\\\">{{alert.message}}</ngb-alert>\\n  </p>\\n\\n    <div class=\\\"card-body table-responsive\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-xl-3 text-xs-center\\\">\\n                <div class=\\\"card mb-3 d-flex\\\">\\n                    <div class=\\\"card-body \\\">\\n                        Numero:\\n                        <div class=\\\"row d-flex justify-content-center m-0 w-100\\\">\\n                            <input #N1\\n                            oninput=\\\"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"\\n                            maxlength = \\\"5\\\"\\n                            type=\\\"text\\\"\\n                            class=\\\"col-xl-4 text-center p-0 \\\"\\n                            [(ngModel)]=\\\"fileSearch.search_dependence_number\\\"\\n                            (ngModelChange) = \\\"changeFocus(1)\\\"\\n                            name = \\\"dependence\\\"\\n                            id='dependence'>\\n\\n                            <div class=\\\"col-xl-1 text-center p-0 \\\">-</div>\\n\\n                            <input #N2\\n                            oninput=\\\"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"\\n                            maxlength = \\\"7\\\"\\n                            type=\\\"text\\\"\\n                            class=\\\"col-xl-5 text-center p-0\\\"\\n                            [(ngModel)]=\\\"fileSearch.search_number\\\"\\n                            (ngModelChange) = \\\"changeFocus(2)\\\"\\n                            name = \\\"number\\\"\\n                            id='number'>\\n\\n                            <div class=\\\"col-xl-1 text-center p-0 \\\">-</div>\\n\\n                            <input #N3\\n                            oninput=\\\"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);\\\"\\n                            maxlength = \\\"1\\\"\\n                            type=\\\"text\\\"\\n                            class=\\\"col-xl-1 text-center p-0\\\"\\n                            [(ngModel)]=\\\"fileSearch.search_final_number\\\"\\n                            (ngModelChange) = \\\"changeFocus(3)\\\"\\n                            name = \\\"final_number\\\"\\n                            id='final_number'>\\n\\n\\n                        </div>\\n                    </div>\\n                    <button #BSearch\\n                    class=\\\"btn btn-outline-info small pt-0 pb-0 px-2\\\"\\n                    type=\\\"button\\\"\\n                    (click)=\\\"search()\\\">\\n                    <div *ngIf=\\\"!firstSearch; else elseBlock\\\">buscar</div>\\n                    <ng-template #elseBlock>Nueva Busqueda</ng-template>\\n                    </button>\\n                </div>\\n            </div>\\n            <div class=\\\"col-xl-6 text-xs-center\\\">\\n                <div class=\\\"card mb-3\\\">\\n                    <div class=\\\"card-body\\\">\\n                        Iniciador:\\n                        <input #Init type=\\\"text\\\"\\n                         [(ngModel)]=\\\"fileSearch.search_initiator\\\"\\n                          class=\\\"w-100 \\\"\\n                          id='initiator'\\n                         [disabled]= \\\"!activate \\\">\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"col-xl-3 text-xs-center\\\">\\n                <div class=\\\"card mb-3\\\">\\n                    <div class=\\\"card-body\\\">\\n                        Grupo:\\n                       <select *ngIf=\\\"activate; else elseBlockGroup\\\"\\n                            class=\\\"form-control mr-1 p-0 text-center w-100 h-75\\\"\\n                            [disabled]= \\\"!activate\\\"\\n                            aria-label=\\\"Sizing example input\\\"\\n                            aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                            [(ngModel)]=\\\"fileSearch.search_group\\\">\\n                                <option *ngFor=\\\"let group of groups\\\" [value]=\\\"group.id\\\">\\n                                    {{group.name}}\\n                                </option>\\n                        </select>\\n\\n                        <ng-template #elseBlockGroup>\\n                            <select\\n                            class=\\\"form-control mr-1 p-0 text-center w-100 h-75\\\"\\n                            [disabled]= \\\"!activate\\\"\\n                            aria-label=\\\"Sizing example input\\\"\\n                            aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                            [(ngModel)]=\\\"fileSearch.search_group\\\">\\n                                <option *ngFor=\\\"let group of groups\\\" [value]=\\\"group.name\\\">\\n                                    {{group.name}}\\n                                </option>\\n                        </select>\\n                        </ng-template>\\n\\n                       </div>\\n                </div>\\n            </div>\\n           <div class=\\\"col-xl-12 text-xs-center w100\\\">\\n                <div class=\\\"card mb-3\\\">\\n                    <div class=\\\"card-body\\\">\\n                        Referencia:\\n                        <textarea class=\\\"card-body w-100\\\"\\n                            [(ngModel)]=\\\"fileSearch.search_concept\\\"\\n                            rows=\\\"3\\\"\\n                            id=\\\"concept\\\"\\n                            [disabled]= \\\"!activate\\\">\\n                        </textarea>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n    </div>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {CreateExpComponent} from './create-exp.component'\nconst routes: Routes = [\n    {\n        path: '',\n        component: CreateExpComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class createExpRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjcmVhdGUtZXhwLmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { DbService } from \"../../../db.service\";\nimport { Router } from '@angular/router';\nimport { DataService } from '../../../data.service';\n\n@Component({\n  selector: 'app-create-exp',\n  templateUrl: './create-exp.component.html',\n  styleUrls: ['./create-exp.component.css']\n})\nexport class CreateExpComponent implements OnInit {\n\n    page = \"http://localhost:8000/api/files/\";\n    groups: any;\n    empty: boolean;\n    firstSearch: boolean;\n    activate: boolean;\n    aux:any;\n\n\n    fileSearch = {\n        search_id : \"\",\n        search_dependence_number : \"\",\n        search_number : \"\",\n        search_final_number : \"\",\n        search_initiator : \"\",\n        search_concept : \"\",\n        search_group : \"\",\n        search_status : 0,\n        search_user_id: localStorage.getItem('id'),\n        page : 1,\n        totPage : 0,\n        perPage: 25\n    };\n\n    public alerts: Array<any> = [];\n\n\n    @ViewChild('N1') N1:ElementRef;\n    @ViewChild('N2') N2:ElementRef;\n    @ViewChild('N3') N3:ElementRef;\n    @ViewChild('BSearch') BSearch:ElementRef;\n    @ViewChild('Init') Init:ElementRef;\n    @ViewChild('SeePasses') SeePasses:ElementRef;\n\n\n    @HostListener('window:keyup', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n    switch (event.key) {\n        case 'Enter':\n        if(!this.firstSearch) {this.search(); this.changeFocus(4); break;}\n\n        if(this.empty && !this.firstSearch){\n                this.saveExp();\n                console.log(\"vaaa a save\");\n            }\n        break;\n        case \"Escape\":\n            this.router.navigate(['/listExp']);\n\n\n            break;\n\n        default:\n            break;\n    }\n  }\n\n\n    constructor(private DB: DbService, private router:Router, private DATA: DataService )  {\n        this.alerts = this.DB.alerts;\n     }\n\n    ngOnInit(): void {\n        this.empty = true;\n        this.firstSearch= false;\n        this.activate = false;\n\n\n\n    this.DB.Agrupations_list().subscribe(\n        data=> {\n            this.groups = data;\n        }\n    );\n  }\n\n  ngAfterViewInit() {\n    this.N1.nativeElement.focus();\n  }\n\n\n  search(){\n\n    if(this.fileSearch.search_dependence_number.length != 5 ||  this.fileSearch.search_number.length != 7 || this.fileSearch.search_final_number.length != 1 ){\n        this.DB.alerts.push({\n            id: 1,\n            type: 'danger',\n            message: \"El numero ingresado es incorrecto\"\n        });\n    }else{\n\n        const validate = {\n            search_dependence_number : this.fileSearch.search_dependence_number,\n            search_central_number :this.fileSearch.search_number ,\n            search_final_number : this.fileSearch.search_final_number\n\n        }\n\n        console.log(this.fileSearch);\n\n        this.DB.File_validation_create(validate).subscribe(\n            data=> {\n                this.aux = data;\n\n                if (this.aux.total == 0 ) {\n                this.empty = true;\n                this.fileSearch.search_id = \"\";\n                this.fileSearch.search_initiator = \"\";\n                this.fileSearch.search_concept = \"\";\n                this.fileSearch.search_group = \"\";\n                this.fileSearch.search_status = 1;\n\n                }else{\n\n                    this.fileSearch.search_id = this.aux.data[0].id;\n                    this.fileSearch.search_dependence_number = this.aux.data[0].dependence_number;\n                    this.fileSearch.search_number = this.aux.data[0].central_number;\n                    this.fileSearch.search_final_number = this.aux.data[0].final_number;\n                    this.fileSearch.search_initiator = this.aux.data[0].initiator;\n                    this.fileSearch.search_concept = this.aux.data[0].concept;\n                    this.fileSearch.search_group = this.aux.data[0].agrupation.name;\n                    this.fileSearch.search_status = this.aux.data[0].status;\n\n                    this.empty = false;\n\n                }\n                this.firstSearch = true;\n\n                if(this.firstSearch && this.empty){\n                    this.activate = true;\n                }else{\n                    this.activate = false;\n                }\n\n                this.changeFocus(4);\n\n            });\n        }\n\n    }\n\n  saveExp() {\n\n\n    const new_file={\n        'dependence_number' : this.fileSearch.search_dependence_number,\n        'central_number': this.fileSearch.search_number,\n        'final_number' : this.fileSearch.search_final_number,\n        'initiator' : this.fileSearch.search_initiator,\n        'concept' : this.fileSearch.search_concept,\n        'status' : this.fileSearch.search_status,\n        'site_id' : this.fileSearch.search_user_id,\n        'agrupation_id' : this.fileSearch.search_group,\n        'user_id' : this.fileSearch.search_user_id\n        }\n\n         this.DB.File_create(new_file).subscribe({\n             next: data => {\n\n                 this.DATA.file = data;\n                 this.DATA.File_id = this.DATA.file.id;\n                 this.DB.alerts.push({\n                     id: 1,\n                     type: 'success',\n                     message: \"Expediente Ingresado\"\n                 });\n\n                 this.router.navigate(['/passes']);\n             },\n             error: error => {\n                 console.log(error);\n                 this.DB.alerts.push({\n                     id: 1,\n                     type: 'danger',\n                     message: error.menssage\n                 });\n                 this.router.navigate(['/listExp']);\n            }\n         })\n    }\n\n    public see_passe(id_file){\n        this.DATA.file = this.aux.data.filter(x => x.id == id_file)\n    }\n\n    public changeFocus(n){\n\n        if (n === 1 && this.fileSearch.search_dependence_number.length === 5){\n        this.N2.nativeElement.focus();}\n\n        if (n === 2 && this.fileSearch.search_number .length === 7){\n        this.N3.nativeElement.focus();}\n\n        if (n === 3 && this.fileSearch.search_final_number.length === 1){\n        this.BSearch.nativeElement.focus();}\n\n        if (n === 4 && this.empty){\n        this.Init.nativeElement.focus();} else{this.SeePasses.nativeElement.focus();}\n    }\n\n    public closeAlert(alert: any) {\n        const index: number = this.alerts.indexOf(alert);\n        this.alerts.splice(index, 1);\n        }\n}\n\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport { PageHeaderModule } from '../../../shared';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { createExpRoutingModule } from './create-exp-routing.module';\nimport { CreateExpComponent } from './create-exp.component';\n\n@NgModule({\n    imports: [CommonModule, createExpRoutingModule, PageHeaderModule, NgbModule,FormsModule],\n    declarations: [CreateExpComponent]\n})\nexport class CreateexpModule {}\n"]}