!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"Qz+8":function(n,s,i){"use strict";i.r(s),i.d(s,"PassesModule",function(){return H});var a=i("ofXK"),c=i("M0ag"),l=i("1kSV"),o=i("3Pt+"),b=i("tyNb"),r=i("nA5i"),p=i("R7Hv"),u=i("fXoL");function d(e,t){if(1&e){var n=u.Tb();u.Sb(0,"p",30),u.Sb(1,"ngb-alert",31),u.cc("close",function(){u.tc(n);var e=t.$implicit;return u.ec().closeAlert(e)}),u.Ac(2),u.Rb(),u.Rb()}if(2&e){var s=t.$implicit;u.Ab(1),u.kc("type",s.type),u.Ab(1),u.Bc(s.message)}}function f(e,t){if(1&e&&(u.Sb(0,"option",44),u.Ac(1),u.Rb()),2&e){var n=t.$implicit;u.kc("value",n.id),u.Ab(1),u.Cc(" ",n.name," ")}}function g(e,t){if(1&e&&(u.Sb(0,"option",44),u.Ac(1),u.Rb()),2&e){var n=t.$implicit;u.kc("value",n.id),u.Ab(1),u.Cc(" ",n.name," ")}}function m(e,t){if(1&e){var n=u.Tb();u.Sb(0,"tr"),u.Sb(1,"td",32),u.Ac(2),u.Rb(),u.Sb(3,"td",33),u.Sb(4,"select",34),u.cc("ngModelChange",function(e){return u.tc(n),u.ec().newPasse.from=e}),u.Ob(5,"option"),u.yc(6,f,2,2,"option",35),u.Rb(),u.Rb(),u.Sb(7,"td",36),u.Ac(8),u.Rb(),u.Sb(9,"td",37),u.Sb(10,"textarea",38),u.cc("ngModelChange",function(e){return u.tc(n),u.ec().newPasse.response=e}),u.Rb(),u.Rb(),u.Sb(11,"td",39),u.Sb(12,"input",40),u.cc("ngModelChange",function(e){return u.tc(n),u.ec().newPasse.responsable_mame=e}),u.Rb(),u.Rb(),u.Sb(13,"select",41),u.cc("ngModelChange",function(e){return u.tc(n),u.ec().newPasse.to=e}),u.Ob(14,"option"),u.yc(15,g,2,2,"option",35),u.Rb(),u.Sb(16,"td",36),u.Ac(17),u.Rb(),u.Sb(18,"td",42),u.Sb(19,"button",43),u.cc("click",function(){return u.tc(n),u.ec().addPasse()}),u.Ac(20," Guardar "),u.Rb(),u.Rb(),u.Rb()}if(2&e){var s=u.ec();u.Ab(2),u.Cc(" ",s.passes.total+1," "),u.Ab(2),u.kc("ngModel",s.newPasse.from),u.Ab(2),u.kc("ngForOf",s.offices),u.Ab(2),u.Cc(" ",s.newPasse.from_date," "),u.Ab(2),u.kc("ngModel",s.newPasse.response),u.Ab(2),u.kc("ngModel",s.newPasse.responsable_mame),u.Ab(1),u.kc("ngModel",s.newPasse.to),u.Ab(2),u.kc("ngForOf",s.offices),u.Ab(2),u.Cc(" ",s.newPasse.to_date," ")}}function h(e,t){if(1&e&&(u.Sb(0,"td",46),u.Ac(1),u.Rb()),2&e){var n=u.ec().$implicit;u.Ab(1),u.Cc(" ",n.to__office.name," ")}}function y(e,t){if(1&e&&(u.Sb(0,"td",58),u.Ac(1),u.Rb()),2&e){var n=u.ec(2).$implicit;u.Ab(1),u.Cc(" ",n.to__office.name," ")}}function x(e,t){if(1&e&&(u.Sb(0,"option",44),u.Ac(1),u.Rb()),2&e){var n=t.$implicit;u.kc("value",n.id),u.Ab(1),u.Cc(" ",n.name," ")}}function A(e,t){if(1&e){var n=u.Tb();u.Sb(0,"select",34),u.cc("ngModelChange",function(e){return u.tc(n),u.ec(3).newPasse.to=e}),u.yc(1,x,2,2,"option",35),u.Rb()}if(2&e){var s=u.ec(3);u.kc("ngModel",s.newPasse.to),u.Ab(1),u.kc("ngForOf",s.offices)}}function v(e,t){if(1&e&&(u.yc(0,y,2,1,"td",56),u.yc(1,A,2,2,"ng-template",null,57,u.zc)),2&e){var n=u.sc(2),s=u.ec(2);u.kc("ngIf",!s.editing)("ngIfElse",n)}}function S(e,t){if(1&e){var n=u.Tb();u.Sb(0,"button",64),u.cc("click",function(){return u.tc(n),u.ec(4).editPasse()}),u.Ac(1," Editar "),u.Rb()}}function R(e,t){if(1&e){var n=u.Tb();u.Sb(0,"button",65),u.cc("click",function(){u.tc(n);var e=u.ec(3).index;return u.ec().updatePasse(e)}),u.Ac(1," guardar "),u.Rb()}}function w(e,t){if(1&e){var n=u.Tb();u.Sb(0,"button",66),u.cc("click",function(){u.tc(n);var e=u.ec(3).index;return u.ec().close_etxernal_passe(e)}),u.Ac(1," Cerrar "),u.Rb()}}function k(e,t){if(1&e&&(u.Sb(0,"div",60),u.yc(1,S,2,0,"button",61),u.yc(2,R,2,0,"button",62),u.yc(3,w,2,0,"ng-template",null,63,u.zc),u.Rb()),2&e){var n=u.sc(4),s=u.ec(2).$implicit,i=u.ec();u.Ab(1),u.kc("ngIf",!i.editing),u.Ab(1),u.kc("ngIf",i.editing||null==s.to)("ngIfElse",n)}}function _(e,t){if(1&e&&(u.Sb(0,"td",52),u.Sb(1,"div",53),u.yc(2,k,5,3,"div",59),u.Rb(),u.Rb()),2&e){var n=u.ec().$implicit;u.Ab(2),u.kc("ngIf",!n.status)}}function P(e,t){if(1&e&&(u.Sb(0,"td",36),u.Ac(1),u.Rb()),2&e){var n=u.ec().$implicit;u.Ab(1),u.Cc(" ",n.to_date," ")}}function M(e,t){if(1&e){var n=u.Tb();u.Sb(0,"button",67),u.cc("click",function(){u.tc(n);var e=u.ec().index;return u.ec().exports(e)}),u.Ac(1," Imprimir "),u.Rb()}}var I=function(){return["/passe"]};function C(e,t){if(1&e){var n=u.Tb();u.Sb(0,"tr"),u.Sb(1,"td",45),u.Ac(2),u.Rb(),u.Sb(3,"td",46),u.Ac(4),u.Rb(),u.Sb(5,"td",36),u.Ac(6),u.Rb(),u.Sb(7,"td",47),u.Ac(8),u.Rb(),u.Sb(9,"td",46),u.Ac(10),u.Rb(),u.yc(11,h,2,1,"td",48),u.yc(12,v,3,2,"ng-template",null,49,u.zc),u.yc(14,_,3,1,"td",50),u.yc(15,P,2,1,"ng-template",null,51,u.zc),u.Sb(17,"td",52),u.Sb(18,"div",53),u.Sb(19,"button",54),u.cc("click",function(){u.tc(n);var e=t.$implicit;return u.ec().seePasse(e.id)}),u.Ac(20," ver "),u.Rb(),u.yc(21,M,2,0,"button",55),u.Rb(),u.Rb(),u.Rb()}if(2&e){var s=t.$implicit,i=t.index,a=u.sc(13),c=u.sc(16),l=u.ec();u.Ab(2),u.Cc(" ",l.passes.from+i," "),u.Ab(2),u.Cc(" ",s.from__office.name," "),u.Ab(2),u.Cc(" ",s.from_date,""),u.Ab(2),u.Cc(" ",s.response," "),u.Ab(2),u.Cc(" ",s.user.name," "),u.Ab(1),u.kc("ngIf",s.status)("ngIfElse",a),u.Ab(3),u.kc("ngIf",!s.status)("ngIfElse",c),u.Ab(5),u.kc("routerLink",u.nc(11,I)),u.Ab(2),u.kc("ngIf",!s.status&&s.to&&s.response)}}function O(e,t){if(1&e&&(u.Sb(0,"div"),u.Sb(1,"li",71),u.Ob(2,"a",72),u.Rb(),u.Rb()),2&e){var n=u.ec().$implicit;u.Ab(2),u.kc("innerHTML",n.label,u.uc)}}function D(e,t){if(1&e&&(u.Qb(0),u.Sb(1,"li",74),u.Ob(2,"p",75),u.Rb(),u.Pb()),2&e){var n=u.ec(2).$implicit;u.Ab(2),u.kc("innerHTML",n.label,u.uc)}}function T(e,t){if(1&e){var n=u.Tb();u.Sb(0,"li",76),u.Sb(1,"p",77),u.cc("click",function(){u.tc(n);var e=u.ec(2).$implicit;return u.ec().goToUrl(e.url)}),u.Rb(),u.Rb()}if(2&e){var s=u.ec(2).$implicit;u.Ab(1),u.kc("innerHTML",s.label,u.uc)}}function z(e,t){if(1&e&&(u.yc(0,D,3,1,"ng-container",69),u.yc(1,T,2,1,"ng-template",null,73,u.zc)),2&e){var n=u.sc(2),s=u.ec().index,i=u.ec();u.kc("ngIf",i.passes.current_page===i.passes.last_page&&s==i.passes.last_page+1||1===i.passes.current_page&&0==s)("ngIfElse",n)}}function E(e,t){if(1&e&&(u.Sb(0,"ul",68),u.yc(1,O,3,1,"div",69),u.yc(2,z,3,2,"ng-template",null,70,u.zc),u.Rb()),2&e){var n=t.$implicit,s=u.sc(3);u.Ab(1),u.kc("ngIf",n.active)("ngIfElse",s)}}var F,B,$,L=function(){return["/listExp"]},j=[{path:"",component:(F=function(){function n(t,s,i){e(this,n),this.DB=t,this.DATA=s,this.router=i,this.newPasse={id:"",passe_id:"",file_id:"",from:"",from_date:"",to:"",to_date:"",status:!0,response:"",responsable:localStorage.getItem("id"),responsable_name:localStorage.getItem("name")},this.alerts=[],this.alerts=this.DB.alerts}var s,i,c;return s=n,(i=[{key:"ngOnInit",value:function(){var e=this;this.today=new Date,this.newPasse.from_date=Object(a.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.newPasse.to_date=Object(a.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.file=this.DATA.file[0],this.newPasse.file_id=this.file.id,this.DB.External_passe_search(this.file.id).subscribe({next:function(t){e.passes=t,e.passes.data[0].status?e.closed=!1:(e.closed=!0,e.newPasse.to=e.passes.data[0].to),e.editing=!e.passes.data[0].to}}),this.DB.Offices_list().subscribe({next:function(t){e.offices=t}})}},{key:"addPasse",value:function(){var e=this;this.newPasse.status=!1,this.closed=!1,this.DB.External_passe_create(this.newPasse).subscribe({next:function(t){e.DB.alerts.push({id:1,type:"success",message:"Pase Agregado"}),e.DB.internal_passe_create({from:e.newPasse.responsable,from_date:e.newPasse.from_date,responsable:e.newPasse.responsable,status:e.newPasse.status,external_passe:t.id}).subscribe({next:function(t){e.DB.alerts.push({id:1,type:"success",message:"Pase interno agregado"}),e.seePasse(t.external_passe),e.router.navigate(["/passe"])},error:function(t){console.log(t),e.DB.alerts.push({id:1,type:"danger",message:t.message})}}),e.ngOnInit()},error:function(t){console.log(t),e.DB.alerts.push({id:1,type:"danger",message:t.message})}})}},{key:"updatePasse",value:function(e){var t=this;""==this.passes.data[e].response?this.DB.alerts.push({id:1,type:"success",message:"Falta Completar respuesta"}):""==this.newPasse.to?this.DB.alerts.push({id:1,type:"success",message:"Falta completar destino"}):""==this.newPasse.to_date?this.DB.alerts.push({id:1,type:"success",message:"Falta completar fecha de cierre"}):(this.newPasse.id=this.passes.data[e].id,this.newPasse.status=!1,this.closed=!1,this.DB.External_passe_update(this.newPasse).subscribe({next:function(e){t.ngOnInit()},error:function(e){console.log(e)}}))}},{key:"close_etxernal_passe",value:function(e){var t=this;console.log(this.passes),console.log(e),""==this.passes.data[e].response?this.DB.alerts.push({id:1,type:"success",message:"Falta Completar respuesta"}):""==this.passes.data[e].to?this.DB.alerts.push({id:1,type:"success",message:"Falta completar destino"}):(this.newPasse.id=this.passes.data[e].id,this.newPasse.status=!0,this.closed=!0,this.DB.File_close(this.passes.data[e].file.id).subscribe({next:function(n){t.DB.External_passe_close(t.passes.data[e].id).subscribe({next:function(e){console.log(e),t.ngOnInit()},error:function(e){console.log(e)}})},error:function(e){console.log(e)}})),this.newPasse.from="",this.newPasse.to=""}},{key:"editPasse",value:function(){this.editing=!0}},{key:"closeAlert",value:function(e){var t=this.alerts.indexOf(e);this.alerts.splice(t,1)}},{key:"seePasse",value:function(e){this.DATA.External_passe_edit_id=e}},{key:"goToUrl",value:function(e){var t=this;this.DB.GoToUrl(e).subscribe({next:function(e){t.passes=e,console.log(t.passes)}})}},{key:"exports",value:function(e){console.log(this.passes.data[e].id),this.DB.External_passe_export(this.passes.data[e].id)}}])&&t(s.prototype,i),c&&t(s,c),n}(),F.\u0275fac=function(e){return new(e||F)(u.Nb(r.a),u.Nb(p.a),u.Nb(b.b))},F.\u0275cmp=u.Hb({type:F,selectors:[["app-passes"]],decls:54,vars:13,consts:[[1,"card","mb-3"],[1,"card-header","d-flex","justify-content-between"],[1,"d-flex"],[1,"ml-2",2,"font-weight","900"],["type","button",1,"btn","btn-m","btn-danger",3,"routerLink"],[1,"table","table-hover","table-striped","m-0"],[1,""],[1,"mx-auto","row"],[1,"small","pt-0","pb-0","px-2","col-xl-4","justify-content-center"],[1,"small","pt-0","pb-0","px-3","col-xl-6"],[1,"small","pt-0","pb-0","pl-4","col-xl-2"],[1,"row","d-flex","justify-content-between"],[1,"col-xl-4","ml-3"],["type","text","rows","2","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-5"],["type","text","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-2","mr-4"],["class","small",4,"ngFor","ngForOf"],[1,"card-body","table-responsive","p-0"],[1,"table","table-hover","table-striped","mb-0"],[1,"mx-auto"],[1,"small","pt-0","pb-0","px-2",2,"width","1%"],[1,"small","pt-0","pb-0","px-2",2,"width","10%"],[1,"small","pt-0","pb-0","px-2"],[1,"small","pt-0","pb-0","px-2",2,"width","110px"],[1,"small","pt-0","pb-0","px-2",2,"width","60px"],[4,"ngIf"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example",1,"d-flex","justify-content-center"],["class","pagination",4,"ngFor","ngForOf"],[1,"small"],[1,"m-0",3,"type","close"],["width","4",1,"small","m-0","p-1"],[1,"m-0","p-1"],["aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",1,"form-control","small","mr-1","p-0","text-center","w-100","h-75",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["width","90",1,"small","pt-0","pb-0","px-2"],["width","200",1,"m-0","p-0","pt-1","px-1"],["small","","type","text","disabled","",1,"small","b-0","p-0","m-0","w-100",2,"height","25px",3,"ngModel","ngModelChange"],["width","130",1,"m-0","p-1"],["type","text","disabled","",1,"small","w-100",3,"ngModel","ngModelChange"],["disabled","","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",1,"form-control","small","mr-1","p-0","text-center","w-100","h-75",3,"ngModel","ngModelChange"],["width","100",1,"m-0","p-1","d-flex","justify-content-center"],["aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","type","button",1,"btn","btn-outline-success","small","p-0","px-1","m-0","h-100",3,"click"],[3,"value"],["width","4",1,"small","pt-0","pb-0","px-2"],["width","150",1,"small","pt-0","pb-0","px-2"],["width","400",1,"small","pt-0","pb-0","px-2"],["width","150","class","small pt-0 pb-0 px-2 ",4,"ngIf","ngIfElse"],["elseTo",""],["style"," padding: 0; padding-right: 5px;",4,"ngIf","ngIfElse"],["elseClose",""],[2,"padding","0","padding-right","5px"],[2,"display","flex","justify-content","space-between"],["type","button",1,"btn","btn-outline-primary","pt-0","pb-0","px-2","mt-1","small",2,"font-size","small",3,"routerLink","click"],["style","font-size: small;","class","btn btn-outline-info pt-0 pb-0 px-2  mt-1 small ","type","button",3,"click",4,"ngIf"],["width","150","class","small pt-1 pb-0 px-2 ",4,"ngIf","ngIfElse"],["elseComplete",""],["width","150",1,"small","pt-1","pb-0","px-2"],["style","display: flex;",4,"ngIf"],[2,"display","flex"],["style","font-size: small;","class","btn btn-outline-warning pt-0 pb-0 px-2  ml-1 mt-1 ","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-success pt-0 pb-0 px-2  ml-1 mt-1 ","type","button",3,"click",4,"ngIf","ngIfElse"],["elseSave",""],["type","button",1,"btn","btn-outline-warning","pt-0","pb-0","px-2","ml-1","mt-1",2,"font-size","small",3,"click"],["type","button",1,"btn","btn-outline-success","pt-0","pb-0","px-2","ml-1","mt-1",3,"click"],["type","button",1,"btn","btn-outline-success","pt-0","pb-0","px-2","ml-1","mt-1","small",2,"font-size","small",3,"click"],["type","button",1,"btn","btn-outline-info","pt-0","pb-0","px-2","mt-1","small",2,"font-size","small",3,"click"],[1,"pagination"],[4,"ngIf","ngIfElse"],["noActive",""],[1,"page-item","active"],[1,"page-link","p-0","pl-1","pr-1","active",2,"margin","1px",3,"innerHTML"],["elseTemplate",""],[1,"page-item","disabled"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML"],[1,"page-item"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML","click"]],template:function(e,t){1&e&&(u.Sb(0,"div"),u.Sb(1,"div",0),u.Sb(2,"div",1),u.Sb(3,"div",2),u.Ac(4," Pases de Expediente N\xb0 "),u.Sb(5,"div",3),u.Ac(6),u.Rb(),u.Rb(),u.Sb(7,"button",4),u.Ac(8," Volver "),u.Rb(),u.Rb(),u.Sb(9,"div"),u.Sb(10,"table",5),u.Sb(11,"thead",6),u.Sb(12,"tr",7),u.Sb(13,"th",8),u.Ac(14,"Iniciador"),u.Rb(),u.Sb(15,"th",9),u.Ac(16,"Referencia"),u.Rb(),u.Sb(17,"th",10),u.Ac(18,"Grupo"),u.Rb(),u.Rb(),u.Rb(),u.Sb(19,"tbody",11),u.Sb(20,"td",12),u.Sb(21,"textarea",13),u.cc("ngModelChange",function(e){return t.file.initiator=e}),u.Ac(22,"                        "),u.Rb(),u.Rb(),u.Sb(23,"td",14),u.Sb(24,"textarea",15),u.cc("ngModelChange",function(e){return t.file.concept=e}),u.Ac(25,"                        "),u.Rb(),u.Rb(),u.Sb(26,"td",16),u.Sb(27,"textarea",15),u.cc("ngModelChange",function(e){return t.file.agrupation.name=e}),u.Ac(28,"                        "),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.yc(29,d,3,2,"p",17),u.Sb(30,"div",18),u.Sb(31,"table",19),u.Sb(32,"thead"),u.Sb(33,"tr",20),u.Sb(34,"th",21),u.Ac(35,"N\xb0"),u.Rb(),u.Sb(36,"th",22),u.Ac(37,"Desde"),u.Rb(),u.Sb(38,"th",22),u.Ac(39,"Fecha Ingreso"),u.Rb(),u.Sb(40,"th",23),u.Ac(41,"Respuesta"),u.Rb(),u.Sb(42,"th",22),u.Ac(43,"En Posesi\xf3n de"),u.Rb(),u.Sb(44,"th",22),u.Ac(45,"Destino"),u.Rb(),u.Sb(46,"th",24),u.Ac(47,"Fecha Salida"),u.Rb(),u.Ob(48,"th",25),u.Rb(),u.Rb(),u.Sb(49,"tbody"),u.yc(50,m,21,9,"tr",26),u.yc(51,C,22,12,"tr",27),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(52,"nav",28),u.yc(53,E,4,2,"ul",29),u.Rb()),2&e&&(u.kc("@routerTransition",void 0),u.Ab(6),u.Ec(" ",t.file.dependence_number,"-",t.file.central_number,"-",t.file.final_number," "),u.Ab(1),u.kc("routerLink",u.nc(12,L)),u.Ab(14),u.kc("ngModel",t.file.initiator),u.Ab(3),u.kc("ngModel",t.file.concept),u.Ab(3),u.kc("ngModel",t.file.agrupation.name),u.Ab(2),u.kc("ngForOf",t.alerts),u.Ab(21),u.kc("ngIf",!t.closed),u.Ab(1),u.kc("ngForOf",t.passes.data),u.Ab(2),u.kc("ngForOf",t.passes.links))},directives:[b.c,o.b,o.j,o.m,a.l,a.m,l.b,o.q,o.n,o.s],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),F),children:[]}],G=(($=function t(){e(this,t)}).\u0275fac=function(e){return new(e||$)},$.\u0275mod=u.Lb({type:$}),$.\u0275inj=u.Kb({imports:[[b.f.forChild(j)],b.f]}),$),H=((B=function t(){e(this,t)}).\u0275fac=function(e){return new(e||B)},B.\u0275mod=u.Lb({type:B}),B.\u0275inj=u.Kb({imports:[[a.b,G,c.b,l.n,o.f]]}),B)}}])}();