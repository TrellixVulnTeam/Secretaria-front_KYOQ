{"version":3,"sources":["webpack:///src/app/layout/normativas/normativas.component.html","webpack:///src/app/layout/normativas/normativas.module.ts","webpack:///src/app/layout/normativas/normativas-routing.module.ts","webpack:///src/app/layout/normativas/normativas.component.css","webpack:///src/app/layout/normativas/normativas.component.ts"],"names":["NormativasModule","imports","declarations","routes","path","component","NormativasRoutingModule","forChild","exports","NormativasComponent","DB","DATA","router","modalService","alerts","closeResult","inModal","normativa_search","type","number","year","reference","agrupation","order_by","order","new_normativa","name","file","event","key","search_normativa","onSubmit","navigate","dismissAll","Normativas_agrupations_list","subscribe","next","data","agrupations","Normativas_types_list","types","normativas","Normativas_search","Normativas_export","Normativas_see","url","GoToUrlFile","console","log","elemento","document","getElementById","classList","remove","add","content","open","size","backdrop","ariaLabelledBy","result","then","reason","getDismissReason","ESC","BACKDROP_CLICK","files","target","reader","FileReader","onload","_handleReaderLoader","bind","readAsBinaryString","readerEvent","binaryString","btoa","tipo","find","x","id","Nomativas_create","push","message","ngOnInit","alert","index","indexOf","splice","selector","template"],"mappings":"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","file":"normativas-normativas-module-es5.js","sourcesContent":["export default \"<div class=\\\"card mb-3\\\">\\n    <div class=\\\"card-header d-flex justify-content-between\\\">Listado de Normativas del Ministerio de Educación\\n        <button\\n            type=\\\"button\\\"\\n            class=\\\"btn btn-m btn-danger\\\"\\n            [routerLink]=\\\"['/dashboard']\\\">\\n            Volver\\n        </button>\\n    </div>\\n    <p *ngFor=\\\"let alert of alerts\\\" class=\\\"small\\\">\\n        <ngb-alert class=\\\"m-0\\\" (close)=\\\"closeAlert(alert)\\\" [type]=\\\"alert.type\\\">{{alert.message}}</ngb-alert>\\n    </p>\\n\\n    <!-- search -->\\n    <div>\\n      <table class=\\\"table table-hover table-striped m-0\\\">\\n        <thead>\\n            <tr class=\\\"mx-auto\\\">\\n                <th style=\\\"width: 150px; \\\" class=\\\"titles\\\">Tipo</th>\\n                <th style=\\\"width: 120px;\\\" class=\\\"titles\\\">Numero</th>\\n                <th style=\\\"width: 80px;\\\" class=\\\"titles\\\">Año</th>\\n                <th class=\\\"titles\\\">Referencia</th>\\n                <th style=\\\"width: 200px;\\\" class=\\\"titles\\\">Agrupación</th>\\n                <th style=\\\"width: 200px;\\\" class=\\\"titles\\\" >Ordenar por</th>\\n                <th style=\\\"width: 40px;\\\" class=\\\"titles\\\"  ></th>\\n            </tr>\\n        </thead>\\n        <tbody>\\n            <td style=\\\"display: flex;\\\">\\n             <select class=\\\"form-control small mr-1 p-0 b-0 text-center w-100 h-75 peke\\\"\\n                aria-label=\\\"Sizing example input\\\"\\n                aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                style=\\\"font-size: small;\\\"\\n                [(ngModel)]=\\\"normativa_search.type\\\">\\n                <option></option>\\n                <option *ngFor=\\\"let agrupation of types\\\" [value]=\\\"agrupation.id\\\"> {{agrupation.name}} </option>\\n\\n            </select>\\n                <td style=\\\"width: auto;\\\">\\n                    <input type=\\\"text\\\"\\n                        style=\\\"font-size: small;\\\"\\n                        class=\\\"form-control mr-1 p-0 text-center h-25\\\"\\n                        [(ngModel)]=\\\"normativa_search.number\\\"\\n                        aria-label=\\\"Sizing example input\\\"\\n                        aria-describedby=\\\"inputGroup-sizing-sm\\\">\\n                </td>\\n\\n                <td>\\n                    <input type=\\\"text\\\"\\n                    style=\\\"font-size: small;\\\"\\n                    class=\\\"form-control mr-1 p-0 text-center h-25\\\"\\n                    [(ngModel)]=\\\"normativa_search.year\\\"\\n                    aria-label=\\\"Sizing example input\\\"\\n                    aria-describedby=\\\"inputGroup-sizing-sm\\\">\\n                </td>\\n\\n                <td>\\n                    <input type=\\\"text\\\"\\n                        style=\\\"font-size: small;\\\"\\n                        class=\\\"form-control mr-1 p-0 text-center h-25\\\"\\n                        [(ngModel)]=\\\"normativa_search.reference\\\"\\n                        aria-label=\\\"Sizing example input\\\"\\n                        aria-describedby=\\\"inputGroup-sizing-sm\\\">\\n                </td>\\n\\n                <td >\\n                    <select class=\\\"form-control small mr-1 p-0 b-0 text-center w-100 h-75 peke\\\"\\n                        aria-label=\\\"Sizing example input\\\"\\n                        aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                        style=\\\"font-size: small;\\\"\\n                        [(ngModel)]=\\\"normativa_search.agrupation\\\">\\n                        <option></option>\\n                        <option *ngFor=\\\"let agrupation of agrupations\\\" [value]=\\\"agrupation.id\\\"> {{agrupation.name}} </option>\\n\\n                    </select>\\n\\n\\n                <td style=\\\"display: flex;\\\">\\n                    <select class=\\\"form-control small mr-1 p-0 b-0 text-center w-100 h-75 peke\\\"\\n                        aria-label=\\\"Sizing example input\\\"\\n                        aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                        style=\\\"font-size: small;\\\"\\n                        [(ngModel)]=\\\"normativa_search.order_by\\\">\\n\\n                        <option value=\\\"type_id\\\"> Tipo </option>\\n                        <option value=\\\"number\\\"> Numero </option>\\n                        <option value=\\\"year\\\"> Año </option>\\n                        <option value=\\\"agrupation_id\\\"> Agrupación </option>\\n\\n                    </select>\\n\\n                        <img\\n                            id=\\\"arrow\\\"\\n                            src=\\\"assets/images/flecha.png\\\"\\n                            style=\\\"width: 19px; height: 19px;\\\"\\n                            class=\\\"rotate180\\\"\\n                            (click)= invert_order()\\n                            />\\n\\n                </td>\\n\\n                <td style=\\\"padding: 8px;\\\">\\n                    <button #BSearch\\n                        class=\\\"btn btn-outline-info small pt-0 pb-0 px-2\\\"\\n                        type=\\\"button\\\"\\n                        (click)=\\\"search_normativa()\\\">\\n                        buscar\\n                    </button>\\n\\n                </td>\\n        </tbody>\\n      </table>\\n    </div>\\n\\n    <!-- end search -->\\n\\n\\n    <div>\\n        <table class=\\\"table table-hover table-striped m-0\\\">\\n          <thead>\\n              <tr class=\\\"mx-auto\\\" style=\\\"text-align: center;\\\">\\n                  <th style=\\\"width: 10px; padding: 2px; font-weight: bolder; background-color:rgb(237, 237, 237);\\\" class=\\\"titles\\\">N°</th>\\n                  <th class=\\\"titles\\\" style=\\\"width: 100px; padding: 2px; font-weight: bolder; background-color:rgb(237, 237, 237);\\\"> Tipo</th>\\n                  <th style=\\\"width: 100px; padding: 2px; font-weight: bolder; background-color:rgb(237, 237, 237);\\\" class=\\\"titles\\\">Numero</th>\\n                  <th style=\\\"width:50px; padding: 2px; font-weight: bolder;  background-color:rgb(237, 237, 237);\\\" class=\\\"titles\\\">Año</th>\\n                  <th style=\\\"padding: 2px; font-weight: bolder; background-color:rgb(237, 237, 237);\\\" class=\\\"titles\\\">Referencia</th>\\n                  <th class=\\\"titles\\\" style=\\\"width: 150px;padding: 2px; font-weight: bolder; background-color:rgb(237, 237, 237);\\\" >Agrupación</th>\\n                  <th style=\\\"width: 70px; padding: 2px; font-weight: bolder; background-color:rgb(237, 237, 237);\\\">\\n                    <button class=\\\"btn btn-outline-success\\\"\\n                        style=\\\" text-align: center; font-size: small; padding: 3px; margin: 2px;\\\"\\n                        type=\\\"button\\\"\\n                        (click)=\\\"open(content)\\\">\\n                        Nueva\\n                    </button>\\n\\n                </th>\\n              </tr>\\n          </thead>\\n          <tbody  *ngFor=\\\"let normativa of normativas.data; let i = index \\\">\\n                  <td class=\\\"date\\\" style=\\\"text-align: center;\\\" > {{(i+1)+(normativas.per_page * (normativas.current_page-1)) }} </td>\\n                  <td class=\\\"date\\\" style=\\\"text-align: center;background-color:rgb(237, 237, 237);\\\"> {{normativa.type.name}} </td>\\n                  <td class=\\\"date\\\" style=\\\"text-align: center;\\\"> {{normativa.number}}</td>\\n                  <td class=\\\"date\\\" style=\\\"text-align: center; background-color:rgb(237, 237, 237);\\\"> {{normativa.year}} </td>\\n                  <td class=\\\"date\\\" style=\\\"text-align: center;\\\"> {{normativa.reference}}</td>\\n                  <td class=\\\"date\\\" style=\\\"text-align: center; background-color:rgb(237, 237, 237);\\\"> {{normativa.agrupation.name}} </td>\\n                  <td class=\\\"date\\\" style=\\\"height: 1vh;\\\" >\\n                    <div style=\\\"display:flex; justify-content: center; height: 100%;\\\">\\n                        <button class=\\\"btn btn-outline-info\\\"\\n                            style=\\\" text-align: center; font-size: small; padding: 3px; margin: 2px;\\\"\\n                            type=\\\"button\\\"\\n                            (click)=\\\"see(normativa.name)\\\">\\n                            ver\\n                        </button>\\n                        <button class=\\\"btn btn-outline-info\\\"\\n                            style=\\\" text-align: center; font-size: small; padding: 3px; margin: 2px;\\\"\\n                            type=\\\"button\\\"\\n                            (click)=\\\"export(normativa.name)\\\">\\n                            Descargar\\n                        </button>\\n                    </div>\\n                  </td>\\n            </tbody>\\n        </table>\\n      </div>\\n\\n    </div>\\n\\n\\n<!-- //////////////////////////////////MODAL PROVIS//////////////////////////// -->\\n\\n<ng-template #content let-modal>\\n    <div class=\\\"modal-header\\\"  style=\\\"padding: 2px;\\\">\\n         <div class=\\\"modal-title\\\" style=\\\"text-align: center; padding-top: 5px; width: 90%;\\\" id=\\\"modal-basic-title\\\">Agregar Normativa </div>\\n        <button\\n        style=\\\"font-size: small;\\\"\\n        type=\\\"button\\\" class=\\\"btn btn-m btn-danger\\\"\\n        (click)=\\\"modal.dismiss('Cross click')\\\">\\n        Volver\\n    </button>\\n      </div>\\n\\n       <div class=\\\"modal-body\\\">\\n        <div style=\\\"display: flex;\\\">\\n            <div>\\n                <p style=\\\"font-size: small;margin-bottom: 2px; \\\">Tipo<p>\\n                <select class=\\\"form-control small mr-1 p-0 b-0 text-center peke\\\"\\n                style=\\\"width: 200px; height: 25px;\\\"\\n                aria-label=\\\"Sizing example input\\\"\\n                aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                [(ngModel)]=\\\"new_normativa.type\\\">\\n                    <option  *ngFor=\\\"let type of types\\\" [value]=\\\"type.id\\\" >\\n                        {{type.name}}\\n                    </option>\\n            </select>\\n\\n            </div>\\n            <div>\\n                <p style=\\\"font-size: small; ;\\\">Numero<p>\\n                <input type=\\\"text\\\"\\n                 style=\\\"font-size: small;width: 150px\\\"\\n                 [(ngModel)]=\\\"new_normativa.number\\\">\\n            </div>\\n            <div>\\n                <p style=\\\"font-size: small; \\\">Año<p>\\n                    <input type=\\\"text\\\"\\n                     style=\\\"font-size: small;width: 100px;\\\"\\n                     [(ngModel)]=\\\"new_normativa.year\\\">\\n                </div>\\n            </div>\\n                <div>\\n            <p style=\\\"font-size: small;\\\">Referencia<p>\\n            <textarea style=\\\"font-size: small; width: 100%;\\\"rows=\\\"5\\\"\\n                [(ngModel)]=\\\"new_normativa.reference\\\">\\n            </textarea>\\n        </div>\\n        <div >\\n            <p style=\\\"font-size: small; text-align: left; padding-left: 40px;\\\">Agrupación<p>\\n                    <div style=\\\"display:flex; \\\">\\n                <select class=\\\"form-control small mr-1 p-0 b-0 text-center peke\\\"\\n                    style=\\\"width: 160px; height: 25px;\\\"\\n                    aria-label=\\\"Sizing example input\\\"\\n                    aria-describedby=\\\"inputGroup-sizing-sm\\\"\\n                    [(ngModel)]=\\\"new_normativa.agrupation\\\">\\n                        <option  *ngFor=\\\"let agrupation of agrupations\\\" [value]=\\\"agrupation.id\\\" >\\n                            {{agrupation.name}}\\n                        </option>\\n                </select>\\n                <input type=\\\"file\\\" accept=\\\"application/pdf\\\" (change)='seleccionarArchivo($event)'>\\n            </div>\\n        </div>\\n    </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button\\n        style=\\\"font-size: small;\\\"\\n        type=\\\"button\\\" class=\\\"btn btn-m btn-outline-success\\\"\\n        (click)=\\\"onSubmit()\\\">\\n        Guardar\\n    </button>\\n      </div>\\n</ng-template>\\n\\n\\n      <!-- pagination -->\\n<div>\\n    <nav aria-label=\\\"Page navigation example\\\" class=\\\"d-flex justify-content-center \\\">\\n        <ul class=\\\"pagination\\\" *ngFor = \\\" let item of normativas.links; let i = index\\\">\\n\\n            <div *ngIf=\\\"item.active; else noActive\\\">\\n                <li class=\\\"page-item active\\\"  >\\n                    <a class=\\\"page-link p-0 pl-1 pr-1 active\\\" style=\\\"margin: 1px;\\\" [innerHTML]= item.label></a>\\n                </li>\\n            </div>\\n            <ng-template #noActive >\\n\\n\\n                <ng-container *ngIf=\\\"(normativas.current_page === normativas.last_page && i == normativas.last_page +1) || (normativas.current_page === 1 && i ==0)    ; else elseTemplate\\\">\\n                    <li class=\\\"page-item disabled\\\">\\n                        <p class=\\\"page-link p-0 pl-1 pr-1 \\\" style=\\\"margin: 1px;\\\" [innerHTML]= item.label></p>\\n                    </li>\\n                </ng-container>\\n                <ng-template #elseTemplate>\\n                    <li class=\\\"page-item\\\"  >\\n                        <p class=\\\"page-link p-0 pl-1 pr-1 \\\" style=\\\"margin: 1px;\\\"  (click)=\\\"goToUrl(item.url)\\\" [innerHTML]= item.label></p>\\n                    </li>\\n                </ng-template>\\n\\n            </ng-template>\\n        </ul>\\n    </nav>\\n</div>\\n<!-- pagination end -->\\n\\n\";","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgbAlertModule, NgbCarouselModule } from '@ng-bootstrap/ng-bootstrap';\nimport { StatModule } from '../../shared';\nimport {FormsModule} from '@angular/forms';\n\nimport { NormativasRoutingModule } from './normativas-routing.module';\nimport { NormativasComponent } from './normativas.component';\n\n@NgModule({\n    imports: [CommonModule, NgbCarouselModule, NgbAlertModule, NormativasRoutingModule, StatModule, FormsModule],\n    declarations: [NormativasComponent]\n})\nexport class NormativasModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NormativasComponent } from './normativas.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: NormativasComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class NormativasRoutingModule {}\n","export default \".titles{\\n    padding: 0px;\\n    padding-left: 20px;\\n    font-size: small;\\n    font-weight: normal;\\n}\\n\\n.date{\\n    padding: 0px;\\n    font-size: small;\\n    font-weight: normal;\\n    vertical-align:middle ;\\n\\n\\n}\\n\\n.rotate180 {\\n    transform: rotate(180deg);\\n}\\n\\np{\\n    font-size: small;\\n    margin-bottom: 2px;\\n    text-align: center;\\n}\\n\\ninput{\\n    margin-right: 6px;\\n    text-align: center;\\n}\\n\\n.peke {\\n    font-size: small;\\n    padding-right: 6px;\\n    padding-left: 6px;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vcm1hdGl2YXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLHNCQUFzQjs7O0FBRzFCOztBQUVBO0lBS0kseUJBQXlCO0FBQzdCOztBQUdBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixpQkFBaUI7QUFDckIiLCJmaWxlIjoibm9ybWF0aXZhcy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlc3tcbiAgICBwYWRkaW5nOiAwcHg7XG4gICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICAgIGZvbnQtc2l6ZTogc21hbGw7XG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbn1cblxuLmRhdGV7XG4gICAgcGFkZGluZzogMHB4O1xuICAgIGZvbnQtc2l6ZTogc21hbGw7XG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICB2ZXJ0aWNhbC1hbGlnbjptaWRkbGUgO1xuXG5cbn1cblxuLnJvdGF0ZTE4MCB7XG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgIC1tb3otdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcbiAgICAtby10cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XG59XG5cblxucHtcbiAgICBmb250LXNpemU6IHNtYWxsO1xuICAgIG1hcmdpbi1ib3R0b206IDJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmlucHV0e1xuICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnBla2Uge1xuICAgIGZvbnQtc2l6ZTogc21hbGw7XG4gICAgcGFkZGluZy1yaWdodDogNnB4O1xuICAgIHBhZGRpbmctbGVmdDogNnB4O1xufVxuXG4iXX0= */\";","import { Component, OnInit, ViewChild, ElementRef, HostListener, SimpleChanges } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { DataService } from '../../data.service';\nimport { DbService } from '../../db.service';\nimport {NgbModal, ModalDismissReasons} from '@ng-bootstrap/ng-bootstrap';\nimport { ArrayType } from '@angular/compiler';\nimport { type } from 'os';\n\n@Component({\n  selector: 'app-normativas',\n  templateUrl: './normativas.component.html',\n  styleUrls: ['./normativas.component.css']\n})\nexport class NormativasComponent implements OnInit {\n\n    normativas:any;\n    types:any;\n    agrupations:any;\n    public alerts: Array<any> = [];\n    closeResult = '';\n\n    inModal:boolean = false;\n\n    normativa_search = {\n        type: \"\",\n        number: \"\",\n        year:\"\",\n        reference: \"\",\n        agrupation:\"\",\n        order_by:\"type_id\",\n        order:\"asc\"\n    }\n\n    new_normativa = {\n        name:\"\",\n        type: \"\",\n        number: \"\",\n        year:\"\",\n        reference: \"\",\n        agrupation:\"\",\n        file: \"\",\n    }\n\n    @HostListener('window:keyup', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n    switch (event.key) {\n        case 'Enter':\n            if(this.inModal){this.search_normativa()}\n            else {this.onSubmit()}\n            break;\n\n        case \"Escape\":\n            if(this.inModal){this.router.navigate(['/dashboard'])}\n            else{this.modalService.dismissAll('Cross click')}\n\n\n            break;\n\n        default:\n            break;\n    }\n }\n    constructor(private DB: DbService, private DATA: DataService, private router: Router, private modalService: NgbModal ) {\n\n       // this.alerts = this.DB.alerts;\n\n    }\n\n\n  ngOnInit(): void {\n\n\n    this.search_normativa();\n\n    this.DB.Normativas_agrupations_list().subscribe({\n        next:\n            data=>{\n                this.agrupations = data;\n            }\n    })\n\n\n    this.DB.Normativas_types_list().subscribe({\n        next:\n            data=>{\n                this.types = data;\n             }\n    })\n\n  }\n\n  public search_normativa() {\n\n     this.normativas = this.DB.Normativas_search(this.normativa_search).subscribe({\n         next:\n              data => {\n             this.normativas = data;\n\n             }\n     })\n  }\n  public export(name){\n      this.DB.Normativas_export(name);\n  }\n  public see(name){\n\n    this.DB.Normativas_see(name);\n  }\n  public goToUrl(url:any){\n\n    this.DB.GoToUrlFile(url, this.normativa_search).subscribe({\n        next:\n             data =>{\n                this.normativas = data;\n                console.log(this.normativas);\n\n               }});\n  }\n  public invert_order(){\n        var elemento = document.getElementById(\"arrow\");\n\n        if(this.normativa_search.order === \"asc\"){\n            this.normativa_search.order = \"desc\";\n            elemento.classList.remove('rotate180');\n\n        }\n        else {\n            this.normativa_search.order= \"asc\";\n            elemento.classList.add('rotate180');\n        }\n\n  }\n  public create(){\n  }\n\n    //////////////////MODAL/////////////////////\n    open(content) {\n        this.modalService.open(content, {size: 's', backdrop: 'static', ariaLabelledBy: 'modal-basic-title'}).result.then((result) => {\n          this.closeResult = `Closed with: ${result}`;\n        }, (reason) => {\n          this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n          this. new_normativa = {\n                name:\"\",\n                type: \"\",\n                number: \"\",\n                year:\"\",\n                reference: \"\",\n                agrupation:\"\",\n                file: \"\",\n            };\n        });\n      }\n\n\n      private getDismissReason(reason: any): string {\n\n        if (reason === ModalDismissReasons.ESC) {\n          return 'by pressing ESC';\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n          return 'by clicking on a backdrop';\n        } else {\n          return `with: ${reason}`;\n        }\n      }\n\n\n      //////////////////////////////////////////////////////\n\n      public filesToUpload: string | ArrayBuffer;\n\n\n\n        seleccionarArchivo(event){\n            var files=event.target.files;\n            var file=files[0];\n\n            if(file && files)    {\n              var reader = new FileReader();\n              reader.onload=this._handleReaderLoader.bind(this);\n              reader.readAsBinaryString(file);\n            }\n           }\n           _handleReaderLoader(readerEvent){\n              var binaryString=readerEvent.target.result;\n              this.new_normativa.file=btoa(binaryString);\n           }\n\n\n\n    onSubmit(){\n\n        var tipo = this.types.find(x => x.id == this.new_normativa.type);\n\n        this.new_normativa.name= tipo.name + \" \"+this.new_normativa.number +\"-\"+this.new_normativa.year+\".pdf\";\n\n\n       this.DB.Nomativas_create(this.new_normativa).subscribe({\n           next: data =>{\n               console.log(data);\n\n               if( data == \"Normativa Cargada\"){\n                this.alerts.push({\n                    id: 1,\n                    type: 'success',\n                    message: \"Normativa Cargada\"\n                })\n                }else{\n                    this.alerts.push({\n                        id: 1,\n                        type: 'danger',\n                        message: 'La normativa ya existe'\n                    })\n                }\n\n               this.ngOnInit();\n\n           }\n       })\n       this.modalService.dismissAll();\n\n\n    }\n    public closeAlert(alert: any) {\n        const index: number = this.alerts.indexOf(alert);\n        this.alerts.splice(index, 1);\n    }\n    }\n"]}