(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"Qz+8":function(e,t,s){"use strict";s.r(t),s.d(t,"PassesModule",function(){return B});var n=s("ofXK"),i=s("M0ag"),c=s("1kSV"),a=s("3Pt+"),l=s("tyNb"),o=s("nA5i"),b=s("R7Hv"),p=s("fXoL");function r(e,t){if(1&e){const e=p.Tb();p.Sb(0,"p",30),p.Sb(1,"ngb-alert",31),p.cc("close",function(){p.tc(e);const s=t.$implicit;return p.ec().closeAlert(s)}),p.Ac(2),p.Rb(),p.Rb()}if(2&e){const e=t.$implicit;p.Ab(1),p.kc("type",e.type),p.Ab(1),p.Bc(e.message)}}function d(e,t){if(1&e&&(p.Sb(0,"option",44),p.Ac(1),p.Rb()),2&e){const e=t.$implicit;p.kc("value",e.id),p.Ab(1),p.Cc(" ",e.name," ")}}function u(e,t){if(1&e&&(p.Sb(0,"option",44),p.Ac(1),p.Rb()),2&e){const e=t.$implicit;p.kc("value",e.id),p.Ab(1),p.Cc(" ",e.name," ")}}function f(e,t){if(1&e){const e=p.Tb();p.Sb(0,"tr"),p.Sb(1,"td",32),p.Ac(2),p.Rb(),p.Sb(3,"td",33),p.Sb(4,"select",34),p.cc("ngModelChange",function(t){return p.tc(e),p.ec().newPasse.from=t}),p.Ob(5,"option"),p.yc(6,d,2,2,"option",35),p.Rb(),p.Rb(),p.Sb(7,"td",36),p.Ac(8),p.Rb(),p.Sb(9,"td",37),p.Sb(10,"textarea",38),p.cc("ngModelChange",function(t){return p.tc(e),p.ec().newPasse.response=t}),p.Rb(),p.Rb(),p.Sb(11,"td",39),p.Sb(12,"input",40),p.cc("ngModelChange",function(t){return p.tc(e),p.ec().newPasse.responsable_mame=t}),p.Rb(),p.Rb(),p.Sb(13,"select",41),p.cc("ngModelChange",function(t){return p.tc(e),p.ec().newPasse.to=t}),p.Ob(14,"option"),p.yc(15,u,2,2,"option",35),p.Rb(),p.Sb(16,"td",36),p.Ac(17),p.Rb(),p.Sb(18,"td",42),p.Sb(19,"button",43),p.cc("click",function(){return p.tc(e),p.ec().addPasse()}),p.Ac(20," Guardar "),p.Rb(),p.Rb(),p.Rb()}if(2&e){const e=p.ec();p.Ab(2),p.Cc(" ",e.passes.total+1," "),p.Ab(2),p.kc("ngModel",e.newPasse.from),p.Ab(2),p.kc("ngForOf",e.offices),p.Ab(2),p.Cc(" ",e.newPasse.from_date," "),p.Ab(2),p.kc("ngModel",e.newPasse.response),p.Ab(2),p.kc("ngModel",e.newPasse.responsable_mame),p.Ab(1),p.kc("ngModel",e.newPasse.to),p.Ab(2),p.kc("ngForOf",e.offices),p.Ab(2),p.Cc(" ",e.newPasse.to_date," ")}}function g(e,t){if(1&e&&(p.Sb(0,"td",46),p.Ac(1),p.Rb()),2&e){const e=p.ec().$implicit;p.Ab(1),p.Cc(" ",e.to__office.name," ")}}function m(e,t){if(1&e&&(p.Sb(0,"td",58),p.Ac(1),p.Rb()),2&e){const e=p.ec(2).$implicit;p.Ab(1),p.Cc(" ",e.to__office.name," ")}}function h(e,t){if(1&e&&(p.Sb(0,"option",44),p.Ac(1),p.Rb()),2&e){const e=t.$implicit;p.kc("value",e.id),p.Ab(1),p.Cc(" ",e.name," ")}}function x(e,t){if(1&e){const e=p.Tb();p.Sb(0,"select",34),p.cc("ngModelChange",function(t){return p.tc(e),p.ec(3).newPasse.to=t}),p.yc(1,h,2,2,"option",35),p.Rb()}if(2&e){const e=p.ec(3);p.kc("ngModel",e.newPasse.to),p.Ab(1),p.kc("ngForOf",e.offices)}}function A(e,t){if(1&e&&(p.yc(0,m,2,1,"td",56),p.yc(1,x,2,2,"ng-template",null,57,p.zc)),2&e){const e=p.sc(2),t=p.ec(2);p.kc("ngIf",!t.editing)("ngIfElse",e)}}function y(e,t){if(1&e){const e=p.Tb();p.Sb(0,"button",64),p.cc("click",function(){return p.tc(e),p.ec(4).editPasse()}),p.Ac(1," Editar "),p.Rb()}}function S(e,t){if(1&e){const e=p.Tb();p.Sb(0,"button",65),p.cc("click",function(){p.tc(e);const t=p.ec(3).index;return p.ec().updatePasse(t)}),p.Ac(1," guardar "),p.Rb()}}function R(e,t){if(1&e){const e=p.Tb();p.Sb(0,"button",66),p.cc("click",function(){p.tc(e);const t=p.ec(3).index;return p.ec().close_etxernal_passe(t)}),p.Ac(1," Cerrar "),p.Rb()}}function w(e,t){if(1&e&&(p.Sb(0,"div",60),p.yc(1,y,2,0,"button",61),p.yc(2,S,2,0,"button",62),p.yc(3,R,2,0,"ng-template",null,63,p.zc),p.Rb()),2&e){const e=p.sc(4),t=p.ec(2).$implicit,s=p.ec();p.Ab(1),p.kc("ngIf",!s.editing),p.Ab(1),p.kc("ngIf",s.editing||null==t.to)("ngIfElse",e)}}function k(e,t){if(1&e&&(p.Sb(0,"td",52),p.Sb(1,"div",53),p.yc(2,w,5,3,"div",59),p.Rb(),p.Rb()),2&e){const e=p.ec().$implicit;p.Ab(2),p.kc("ngIf",!e.status)}}function _(e,t){if(1&e&&(p.Sb(0,"td",36),p.Ac(1),p.Rb()),2&e){const e=p.ec().$implicit;p.Ab(1),p.Cc(" ",e.to_date," ")}}function P(e,t){if(1&e){const e=p.Tb();p.Sb(0,"button",67),p.cc("click",function(){p.tc(e);const t=p.ec().index;return p.ec().exports(t)}),p.Ac(1," Imprimir "),p.Rb()}}const M=function(){return["/passe"]};function I(e,t){if(1&e){const e=p.Tb();p.Sb(0,"tr"),p.Sb(1,"td",45),p.Ac(2),p.Rb(),p.Sb(3,"td",46),p.Ac(4),p.Rb(),p.Sb(5,"td",36),p.Ac(6),p.Rb(),p.Sb(7,"td",47),p.Ac(8),p.Rb(),p.Sb(9,"td",46),p.Ac(10),p.Rb(),p.yc(11,g,2,1,"td",48),p.yc(12,A,3,2,"ng-template",null,49,p.zc),p.yc(14,k,3,1,"td",50),p.yc(15,_,2,1,"ng-template",null,51,p.zc),p.Sb(17,"td",52),p.Sb(18,"div",53),p.Sb(19,"button",54),p.cc("click",function(){p.tc(e);const s=t.$implicit;return p.ec().seePasse(s.id)}),p.Ac(20," ver "),p.Rb(),p.yc(21,P,2,0,"button",55),p.Rb(),p.Rb(),p.Rb()}if(2&e){const e=t.$implicit,s=t.index,n=p.sc(13),i=p.sc(16),c=p.ec();p.Ab(2),p.Cc(" ",c.passes.from+s," "),p.Ab(2),p.Cc(" ",e.from__office.name," "),p.Ab(2),p.Cc(" ",e.from_date,""),p.Ab(2),p.Cc(" ",e.response," "),p.Ab(2),p.Cc(" ",e.user.name," "),p.Ab(1),p.kc("ngIf",e.status)("ngIfElse",n),p.Ab(3),p.kc("ngIf",!e.status)("ngIfElse",i),p.Ab(5),p.kc("routerLink",p.nc(11,M)),p.Ab(2),p.kc("ngIf",!e.status&&e.to&&e.response)}}function C(e,t){if(1&e&&(p.Sb(0,"div"),p.Sb(1,"li",71),p.Ob(2,"a",72),p.Rb(),p.Rb()),2&e){const e=p.ec().$implicit;p.Ab(2),p.kc("innerHTML",e.label,p.uc)}}function v(e,t){if(1&e&&(p.Qb(0),p.Sb(1,"li",74),p.Ob(2,"p",75),p.Rb(),p.Pb()),2&e){const e=p.ec(2).$implicit;p.Ab(2),p.kc("innerHTML",e.label,p.uc)}}function D(e,t){if(1&e){const e=p.Tb();p.Sb(0,"li",76),p.Sb(1,"p",77),p.cc("click",function(){p.tc(e);const t=p.ec(2).$implicit;return p.ec().goToUrl(t.url)}),p.Rb(),p.Rb()}if(2&e){const e=p.ec(2).$implicit;p.Ab(1),p.kc("innerHTML",e.label,p.uc)}}function O(e,t){if(1&e&&(p.yc(0,v,3,1,"ng-container",69),p.yc(1,D,2,1,"ng-template",null,73,p.zc)),2&e){const e=p.sc(2),t=p.ec().index,s=p.ec();p.kc("ngIf",s.passes.current_page===s.passes.last_page&&t==s.passes.last_page+1||1===s.passes.current_page&&0==t)("ngIfElse",e)}}function z(e,t){if(1&e&&(p.Sb(0,"ul",68),p.yc(1,C,3,1,"div",69),p.yc(2,O,3,2,"ng-template",null,70,p.zc),p.Rb()),2&e){const e=t.$implicit,s=p.sc(3);p.Ab(1),p.kc("ngIf",e.active)("ngIfElse",s)}}const T=function(){return["/listExp"]},E=[{path:"",component:(()=>{class e{constructor(e,t,s){this.DB=e,this.DATA=t,this.router=s,this.newPasse={id:"",passe_id:"",file_id:"",from:"",from_date:"",to:"",to_date:"",status:!0,response:"",responsable:localStorage.getItem("id"),responsable_name:localStorage.getItem("name")},this.alerts=[],this.alerts=this.DB.alerts}ngOnInit(){this.today=new Date,this.newPasse.from_date=Object(n.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.newPasse.to_date=Object(n.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.file=this.DATA.file[0],this.newPasse.file_id=this.file.id,this.DB.External_passe_search(this.file.id).subscribe({next:e=>{this.passes=e,this.passes.data[0].status?this.closed=!1:(this.closed=!0,this.newPasse.to=this.passes.data[0].to),this.editing=!this.passes.data[0].to}}),this.DB.Offices_list().subscribe({next:e=>{this.offices=e}})}addPasse(){this.newPasse.status=!1,this.closed=!1,this.DB.External_passe_create(this.newPasse).subscribe({next:e=>{this.DB.alerts.push({id:1,type:"success",message:"Pase Agregado"}),this.DB.internal_passe_create({from:this.newPasse.responsable,from_date:this.newPasse.from_date,responsable:this.newPasse.responsable,status:this.newPasse.status,external_passe:e.id}).subscribe({next:e=>{this.DB.alerts.push({id:1,type:"success",message:"Pase interno agregado"}),this.seePasse(e.external_passe),this.router.navigate(["/passe"])},error:e=>{console.log(e),this.DB.alerts.push({id:1,type:"danger",message:e.message})}}),this.ngOnInit()},error:e=>{console.log(e),this.DB.alerts.push({id:1,type:"danger",message:e.message})}})}updatePasse(e){""==this.passes.data[e].response?this.DB.alerts.push({id:1,type:"success",message:"Falta Completar respuesta"}):""==this.newPasse.to?this.DB.alerts.push({id:1,type:"success",message:"Falta completar destino"}):""==this.newPasse.to_date?this.DB.alerts.push({id:1,type:"success",message:"Falta completar fecha de cierre"}):(this.newPasse.id=this.passes.data[e].id,this.newPasse.status=!1,this.closed=!1,this.DB.External_passe_update(this.newPasse).subscribe({next:e=>{this.ngOnInit()},error:e=>{console.log(e)}}))}close_etxernal_passe(e){console.log(this.passes),console.log(e),""==this.passes.data[e].response?this.DB.alerts.push({id:1,type:"success",message:"Falta Completar respuesta"}):""==this.passes.data[e].to?this.DB.alerts.push({id:1,type:"success",message:"Falta completar destino"}):(this.newPasse.id=this.passes.data[e].id,this.newPasse.status=!0,this.closed=!0,this.DB.File_close(this.passes.data[e].file.id).subscribe({next:t=>{this.DB.External_passe_close(this.passes.data[e].id).subscribe({next:e=>{console.log(e),this.ngOnInit()},error:e=>{console.log(e)}})},error:e=>{console.log(e)}})),this.newPasse.from="",this.newPasse.to=""}editPasse(){this.editing=!0}closeAlert(e){const t=this.alerts.indexOf(e);this.alerts.splice(t,1)}seePasse(e){this.DATA.External_passe_edit_id=e}goToUrl(e){this.DB.GoToUrl(e).subscribe({next:e=>{this.passes=e,console.log(this.passes)}})}exports(e){console.log(this.passes.data[e].id),this.DB.External_passe_export(this.passes.data[e].id)}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(o.a),p.Nb(b.a),p.Nb(l.b))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-passes"]],decls:54,vars:13,consts:[[1,"card","mb-3"],[1,"card-header","d-flex","justify-content-between"],[1,"d-flex"],[1,"ml-2",2,"font-weight","900"],["type","button",1,"btn","btn-m","btn-danger",3,"routerLink"],[1,"table","table-hover","table-striped","m-0"],[1,""],[1,"mx-auto","row"],[1,"small","pt-0","pb-0","px-2","col-xl-4","justify-content-center"],[1,"small","pt-0","pb-0","px-3","col-xl-6"],[1,"small","pt-0","pb-0","pl-4","col-xl-2"],[1,"row","d-flex","justify-content-between"],[1,"col-xl-4","ml-3"],["type","text","rows","2","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-5"],["type","text","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-2","mr-4"],["class","small",4,"ngFor","ngForOf"],[1,"card-body","table-responsive","p-0"],[1,"table","table-hover","table-striped","mb-0"],[1,"mx-auto"],[1,"small","pt-0","pb-0","px-2",2,"width","1%"],[1,"small","pt-0","pb-0","px-2",2,"width","10%"],[1,"small","pt-0","pb-0","px-2"],[1,"small","pt-0","pb-0","px-2",2,"width","110px"],[1,"small","pt-0","pb-0","px-2",2,"width","60px"],[4,"ngIf"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example",1,"d-flex","justify-content-center"],["class","pagination",4,"ngFor","ngForOf"],[1,"small"],[1,"m-0",3,"type","close"],["width","4",1,"small","m-0","p-1"],[1,"m-0","p-1"],["aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",1,"form-control","small","mr-1","p-0","text-center","w-100","h-75",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["width","90",1,"small","pt-0","pb-0","px-2"],["width","200",1,"m-0","p-0","pt-1","px-1"],["small","","type","text","disabled","",1,"small","b-0","p-0","m-0","w-100",2,"height","25px",3,"ngModel","ngModelChange"],["width","130",1,"m-0","p-1"],["type","text","disabled","",1,"small","w-100",3,"ngModel","ngModelChange"],["disabled","","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",1,"form-control","small","mr-1","p-0","text-center","w-100","h-75",3,"ngModel","ngModelChange"],["width","100",1,"m-0","p-1","d-flex","justify-content-center"],["aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","type","button",1,"btn","btn-outline-success","small","p-0","px-1","m-0","h-100",3,"click"],[3,"value"],["width","4",1,"small","pt-0","pb-0","px-2"],["width","150",1,"small","pt-0","pb-0","px-2"],["width","400",1,"small","pt-0","pb-0","px-2"],["width","150","class","small pt-0 pb-0 px-2 ",4,"ngIf","ngIfElse"],["elseTo",""],["style"," padding: 0; padding-right: 5px;",4,"ngIf","ngIfElse"],["elseClose",""],[2,"padding","0","padding-right","5px"],[2,"display","flex","justify-content","space-between"],["type","button",1,"btn","btn-outline-primary","pt-0","pb-0","px-2","mt-1","small",2,"font-size","small",3,"routerLink","click"],["style","font-size: small;","class","btn btn-outline-info pt-0 pb-0 px-2  mt-1 small ","type","button",3,"click",4,"ngIf"],["width","150","class","small pt-1 pb-0 px-2 ",4,"ngIf","ngIfElse"],["elseComplete",""],["width","150",1,"small","pt-1","pb-0","px-2"],["style","display: flex;",4,"ngIf"],[2,"display","flex"],["style","font-size: small;","class","btn btn-outline-warning pt-0 pb-0 px-2  ml-1 mt-1 ","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-success pt-0 pb-0 px-2  ml-1 mt-1 ","type","button",3,"click",4,"ngIf","ngIfElse"],["elseSave",""],["type","button",1,"btn","btn-outline-warning","pt-0","pb-0","px-2","ml-1","mt-1",2,"font-size","small",3,"click"],["type","button",1,"btn","btn-outline-success","pt-0","pb-0","px-2","ml-1","mt-1",3,"click"],["type","button",1,"btn","btn-outline-success","pt-0","pb-0","px-2","ml-1","mt-1","small",2,"font-size","small",3,"click"],["type","button",1,"btn","btn-outline-info","pt-0","pb-0","px-2","mt-1","small",2,"font-size","small",3,"click"],[1,"pagination"],[4,"ngIf","ngIfElse"],["noActive",""],[1,"page-item","active"],[1,"page-link","p-0","pl-1","pr-1","active",2,"margin","1px",3,"innerHTML"],["elseTemplate",""],[1,"page-item","disabled"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML"],[1,"page-item"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML","click"]],template:function(e,t){1&e&&(p.Sb(0,"div"),p.Sb(1,"div",0),p.Sb(2,"div",1),p.Sb(3,"div",2),p.Ac(4," Pases de Expediente N\xb0 "),p.Sb(5,"div",3),p.Ac(6),p.Rb(),p.Rb(),p.Sb(7,"button",4),p.Ac(8," Volver "),p.Rb(),p.Rb(),p.Sb(9,"div"),p.Sb(10,"table",5),p.Sb(11,"thead",6),p.Sb(12,"tr",7),p.Sb(13,"th",8),p.Ac(14,"Iniciador"),p.Rb(),p.Sb(15,"th",9),p.Ac(16,"Referencia"),p.Rb(),p.Sb(17,"th",10),p.Ac(18,"Grupo"),p.Rb(),p.Rb(),p.Rb(),p.Sb(19,"tbody",11),p.Sb(20,"td",12),p.Sb(21,"textarea",13),p.cc("ngModelChange",function(e){return t.file.initiator=e}),p.Ac(22,"                        "),p.Rb(),p.Rb(),p.Sb(23,"td",14),p.Sb(24,"textarea",15),p.cc("ngModelChange",function(e){return t.file.concept=e}),p.Ac(25,"                        "),p.Rb(),p.Rb(),p.Sb(26,"td",16),p.Sb(27,"textarea",15),p.cc("ngModelChange",function(e){return t.file.agrupation.name=e}),p.Ac(28,"                        "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.yc(29,r,3,2,"p",17),p.Sb(30,"div",18),p.Sb(31,"table",19),p.Sb(32,"thead"),p.Sb(33,"tr",20),p.Sb(34,"th",21),p.Ac(35,"N\xb0"),p.Rb(),p.Sb(36,"th",22),p.Ac(37,"Desde"),p.Rb(),p.Sb(38,"th",22),p.Ac(39,"Fecha Ingreso"),p.Rb(),p.Sb(40,"th",23),p.Ac(41,"Respuesta"),p.Rb(),p.Sb(42,"th",22),p.Ac(43,"En Posesi\xf3n de"),p.Rb(),p.Sb(44,"th",22),p.Ac(45,"Destino"),p.Rb(),p.Sb(46,"th",24),p.Ac(47,"Fecha Salida"),p.Rb(),p.Ob(48,"th",25),p.Rb(),p.Rb(),p.Sb(49,"tbody"),p.yc(50,f,21,9,"tr",26),p.yc(51,I,22,12,"tr",27),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(52,"nav",28),p.yc(53,z,4,2,"ul",29),p.Rb()),2&e&&(p.kc("@routerTransition",void 0),p.Ab(6),p.Ec(" ",t.file.dependence_number,"-",t.file.central_number,"-",t.file.final_number," "),p.Ab(1),p.kc("routerLink",p.nc(12,T)),p.Ab(14),p.kc("ngModel",t.file.initiator),p.Ab(3),p.kc("ngModel",t.file.concept),p.Ab(3),p.kc("ngModel",t.file.agrupation.name),p.Ab(2),p.kc("ngForOf",t.alerts),p.Ab(21),p.kc("ngIf",!t.closed),p.Ab(1),p.kc("ngForOf",t.passes.data),p.Ab(2),p.kc("ngForOf",t.passes.links))},directives:[l.c,a.b,a.j,a.m,n.l,n.m,c.b,a.q,a.n,a.s],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})(),children:[]}];let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Lb({type:e}),e.\u0275inj=p.Kb({imports:[[l.f.forChild(E)],l.f]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Lb({type:e}),e.\u0275inj=p.Kb({imports:[[n.b,F,i.b,c.n,a.f]]}),e})()}}]);