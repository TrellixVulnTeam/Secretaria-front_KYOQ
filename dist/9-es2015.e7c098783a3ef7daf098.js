(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{x8ij:function(e,t,i){"use strict";i.r(t),i.d(t,"CreateexpModule",function(){return k});var c=i("ofXK"),n=i("3Pt+"),a=i("M0ag"),r=i("1kSV"),s=i("tyNb"),l=i("nA5i"),h=i("R7Hv"),o=i("fXoL");function b(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div"),o.Sb(1,"button",26),o.cc("click",function(){return o.tc(e),o.ec(2).saveExp()}),o.Ac(2," Guardar "),o.Rb(),o.Rb()}}const u=function(){return["/passes"]};function d(e,t){if(1&e){const e=o.Tb();o.Sb(0,"button",27),o.cc("click",function(){o.tc(e);const t=o.ec(2);return t.see_passe(t.fileSearch.search_id)}),o.Ac(1," Ver Pase "),o.Rb()}2&e&&o.kc("routerLink",o.nc(1,u))}function f(e,t){if(1&e&&(o.Sb(0,"div",2),o.yc(1,b,3,0,"div",17),o.yc(2,d,2,2,"ng-template",null,25,o.zc),o.Rb()),2&e){const e=o.sc(3),t=o.ec();o.Ab(1),o.kc("ngIf",t.empty)("ngIfElse",e)}}function p(e,t){if(1&e){const e=o.Tb();o.Sb(0,"p"),o.Sb(1,"ngb-alert",28),o.cc("close",function(){o.tc(e);const i=t.$implicit;return o.ec().closeAlert(i)}),o.Ac(2),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit;o.Ab(1),o.kc("type",e.type),o.Ab(1),o.Bc(e.message)}}function g(e,t){1&e&&(o.Sb(0,"div"),o.Ac(1,"buscar"),o.Rb())}function m(e,t){1&e&&o.Ac(0,"Nueva Busqueda")}function _(e,t){if(1&e&&(o.Sb(0,"option",31),o.Ac(1),o.Rb()),2&e){const e=t.$implicit;o.kc("value",e.id),o.Ab(1),o.Cc(" ",e.name," ")}}function S(e,t){if(1&e){const e=o.Tb();o.Sb(0,"select",29),o.cc("ngModelChange",function(t){return o.tc(e),o.ec().fileSearch.search_group=t}),o.yc(1,_,2,2,"option",30),o.Rb()}if(2&e){const e=o.ec();o.kc("disabled",!e.activate)("ngModel",e.fileSearch.search_group),o.Ab(1),o.kc("ngForOf",e.groups)}}function x(e,t){if(1&e&&(o.Sb(0,"option",31),o.Ac(1),o.Rb()),2&e){const e=t.$implicit;o.kc("value",e.name),o.Ab(1),o.Cc(" ",e.name," ")}}function v(e,t){if(1&e){const e=o.Tb();o.Sb(0,"select",29),o.cc("ngModelChange",function(t){return o.tc(e),o.ec().fileSearch.search_group=t}),o.yc(1,x,2,2,"option",30),o.Rb()}if(2&e){const e=o.ec();o.kc("disabled",!e.activate)("ngModel",e.fileSearch.search_group),o.Ab(1),o.kc("ngForOf",e.groups)}}const A=function(){return["/listExp"]},y=[{path:"",component:(()=>{class e{constructor(e,t,i){this.DB=e,this.router=t,this.DATA=i,this.page="http://localhost:8000/api/files/",this.fileSearch={search_id:"",search_dependence_number:"",search_number:"",search_final_number:"",search_initiator:"",search_concept:"",search_group:"",search_status:0,search_user_id:localStorage.getItem("id"),page:1,totPage:0,perPage:25},this.alerts=[],this.alerts=this.DB.alerts}ngOnInit(){this.empty=!0,this.firstSearch=!1,this.activate=!1,this.DB.Agrupations_list().subscribe(e=>{this.groups=e})}search(){if(5!=this.fileSearch.search_dependence_number.length||7!=this.fileSearch.search_number.length||1!=this.fileSearch.search_final_number.length)this.DB.alerts.push({id:1,type:"danger",message:"El numero ingresado es incorrecto"});else{const e={search_dependence_number:this.fileSearch.search_dependence_number,search_central_number:this.fileSearch.search_number,search_final_number:this.fileSearch.search_final_number};console.log(this.fileSearch),this.DB.File_validation_create(e).subscribe(e=>{this.aux=e,0==this.aux.total?(this.empty=!0,this.fileSearch.search_id="",this.fileSearch.search_initiator="",this.fileSearch.search_concept="",this.fileSearch.search_group="",this.fileSearch.search_status=1):(this.fileSearch.search_id=this.aux.data[0].id,this.fileSearch.search_dependence_number=this.aux.data[0].dependence_number,this.fileSearch.search_number=this.aux.data[0].central_number,this.fileSearch.search_final_number=this.aux.data[0].final_number,this.fileSearch.search_initiator=this.aux.data[0].initiator,this.fileSearch.search_concept=this.aux.data[0].concept,this.fileSearch.search_group=this.aux.data[0].agrupation.name,this.fileSearch.search_status=this.aux.data[0].status,this.empty=!1),this.firstSearch=!0,this.activate=!(!this.firstSearch||!this.empty)})}}saveExp(){this.DB.File_create({dependence_number:this.fileSearch.search_dependence_number,central_number:this.fileSearch.search_number,final_number:this.fileSearch.search_final_number,initiator:this.fileSearch.search_initiator,concept:this.fileSearch.search_concept,status:this.fileSearch.search_status,site_id:this.fileSearch.search_user_id,agrupation_id:this.fileSearch.search_group,user_id:this.fileSearch.search_user_id}).subscribe({next:e=>{this.DATA.file=e,this.DATA.File_id=this.DATA.file.id,this.DB.alerts.push({id:1,type:"success",message:"Expediente Ingresado"}),this.router.navigate(["/passes"])},error:e=>{console.log(e),this.DB.alerts.push({id:1,type:"danger",message:e.menssage}),this.router.navigate(["/listExp"])}})}see_passe(e){this.DATA.file=this.aux.data.filter(t=>t.id==e)}closeAlert(e){const t=this.alerts.indexOf(e);this.alerts.splice(t,1)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(l.a),o.Nb(s.b),o.Nb(h.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-create-exp"]],decls:44,vars:15,consts:[[1,"card","mb-3"],[1,"card-header","d-flex","justify-content-between"],[1,"d-flex"],["class","d-flex",4,"ngIf"],["type","button",1,"btn","btn-m","btn-danger",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"card-body","table-responsive"],[1,"row"],[1,"col-xl-3","text-xs-center"],[1,"card","mb-3","d-flex"],[1,"card-body"],[1,"row","d-flex","justify-content-center","m-0","w-100"],["oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","5","type","text","name","dependence","id","dependence",1,"col-xl-4","text-center","p-0",3,"ngModel","ngModelChange"],[1,"col-xl-1","text-center","p-0"],["oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","7","type","text","name","number","id","number",1,"col-xl-5","text-center","p-0",3,"ngModel","ngModelChange"],["oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","1","type","text","name","final_number","id","final_number",1,"col-xl-1","text-center","p-0",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-info","small","pt-0","pb-0","px-2",3,"routerLink","click"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"col-xl-6","text-xs-center"],["type","text","id","initiator",1,"w-100",3,"ngModel","disabled","ngModelChange"],["class","form-control mr-1 p-0 text-center w-100 h-75","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",3,"disabled","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["elseBlockGroup",""],[1,"col-xl-12","text-xs-center","w100"],["rows","3","id","concept",1,"card-body","w-100",3,"ngModel","disabled","ngModelChange"],["dontEmpty",""],["type","button",1,"btn","btn-m","btn-success","mr-1",3,"click"],["type","button",1,"btn","btn-m","btn-success","mr-1",3,"routerLink","click"],[1,"m-0",3,"type","close"],["aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",1,"form-control","mr-1","p-0","text-center","w-100","h-75",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Ac(2,"Agregar Expediente "),o.Sb(3,"div",2),o.yc(4,f,4,2,"div",3),o.Sb(5,"button",4),o.Ac(6," Volver "),o.Rb(),o.Rb(),o.Rb(),o.yc(7,p,3,2,"p",5),o.Sb(8,"div",6),o.Sb(9,"div",7),o.Sb(10,"div",8),o.Sb(11,"div",9),o.Sb(12,"div",10),o.Ac(13," Numero: "),o.Sb(14,"div",11),o.Sb(15,"input",12),o.cc("ngModelChange",function(e){return t.fileSearch.search_dependence_number=e}),o.Rb(),o.Sb(16,"div",13),o.Ac(17,"-"),o.Rb(),o.Sb(18,"input",14),o.cc("ngModelChange",function(e){return t.fileSearch.search_number=e}),o.Rb(),o.Sb(19,"div",13),o.Ac(20,"-"),o.Rb(),o.Sb(21,"input",15),o.cc("ngModelChange",function(e){return t.fileSearch.search_final_number=e}),o.Rb(),o.Rb(),o.Rb(),o.Sb(22,"button",16),o.cc("click",function(){return t.search()}),o.yc(23,g,2,0,"div",17),o.yc(24,m,1,0,"ng-template",null,18,o.zc),o.Rb(),o.Rb(),o.Rb(),o.Sb(26,"div",19),o.Sb(27,"div",0),o.Sb(28,"div",10),o.Ac(29," Iniciador: "),o.Sb(30,"input",20),o.cc("ngModelChange",function(e){return t.fileSearch.search_initiator=e}),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(31,"div",8),o.Sb(32,"div",0),o.Sb(33,"div",10),o.Ac(34," Grupo: "),o.yc(35,S,2,3,"select",21),o.yc(36,v,2,3,"ng-template",null,22,o.zc),o.Rb(),o.Rb(),o.Rb(),o.Sb(38,"div",23),o.Sb(39,"div",0),o.Sb(40,"div",10),o.Ac(41," Referencia: "),o.Sb(42,"textarea",24),o.cc("ngModelChange",function(e){return t.fileSearch.search_concept=e}),o.Ac(43,"                        "),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.sc(25),i=o.sc(37);o.Ab(4),o.kc("ngIf",t.firstSearch),o.Ab(1),o.kc("routerLink",o.nc(14,A)),o.Ab(2),o.kc("ngForOf",t.alerts),o.Ab(8),o.kc("ngModel",t.fileSearch.search_dependence_number),o.Ab(3),o.kc("ngModel",t.fileSearch.search_number),o.Ab(3),o.kc("ngModel",t.fileSearch.search_final_number),o.Ab(2),o.kc("ngIf",!t.firstSearch)("ngIfElse",e),o.Ab(7),o.kc("ngModel",t.fileSearch.search_initiator)("disabled",!t.activate),o.Ab(5),o.kc("ngIf",t.activate)("ngIfElse",i),o.Ab(7),o.kc("ngModel",t.fileSearch.search_concept)("disabled",!t.activate)}},directives:[c.m,s.c,c.l,n.b,n.g,n.j,n.m,r.b,n.q,n.n,n.s],styles:[""]}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[s.f.forChild(y)],s.f]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[c.b,R,a.b,r.n,n.f]]}),e})()}}]);