!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{qtcw:function(n,a,s){"use strict";s.r(a),s.d(a,"PasseModule",function(){return j});var i=s("ofXK"),l=s("M0ag"),c=s("1kSV"),r=s("3Pt+"),b=s("tyNb"),o=s("nA5i"),p=s("R7Hv"),d=s("fXoL");function f(e,t){if(1&e){var n=d.Tb();d.Sb(0,"p",29),d.Sb(1,"ngb-alert",30),d.cc("close",function(){d.tc(n);var e=t.$implicit;return d.ec().closeAlert(e)}),d.Ac(2),d.Rb(),d.Rb()}if(2&e){var a=t.$implicit;d.Ab(1),d.kc("type",a.type),d.Ab(1),d.Bc(a.message)}}function u(e,t){if(1&e&&(d.Sb(0,"textarea",41),d.Ac(1),d.Rb()),2&e){var n=d.ec().$implicit;d.Ab(1),d.Cc(" ",n.response,"")}}function g(e,t){if(1&e){var n=d.Tb();d.Sb(0,"textarea",42),d.cc("ngModelChange",function(e){return d.tc(n),d.ec(2).newInternalPasse.response=e}),d.Ac(1),d.Rb()}if(2&e){var a=d.ec().$implicit,s=d.ec();d.kc("ngModel",s.newInternalPasse.response),d.Ab(1),d.Cc(" ",a.response,"")}}function m(e,t){if(1&e&&(d.Sb(0,"td",32),d.Ac(1),d.Rb()),2&e){var n=d.ec().$implicit;d.Ab(1),d.Cc(" ",n.to.name," ")}}function h(e,t){if(1&e&&(d.Sb(0,"option",46),d.Ac(1),d.Rb()),2&e){var n=t.$implicit;d.kc("value",n.id),d.Ab(1),d.Cc(" ",n.name," ")}}function A(e,t){if(1&e){var n=d.Tb();d.Sb(0,"div",43),d.Sb(1,"select",44),d.cc("ngModelChange",function(e){return d.tc(n),d.ec(2).newInternalPasse.to=e}),d.Ob(2,"option"),d.yc(3,h,2,2,"option",45),d.Rb(),d.Rb()}if(2&e){var a=d.ec(2);d.Ab(1),d.kc("ngModel",a.newInternalPasse.to),d.Ab(2),d.kc("ngForOf",a.users)}}function S(e,t){if(1&e&&(d.Sb(0,"td",32),d.Ac(1),d.Rb()),2&e){var n=d.ec().$implicit;d.Ab(1),d.Cc(" ",n.to_date," ")}}function x(e,t){1&e&&(d.Sb(0,"td",47),d.Ac(1),d.Rb()),2&e&&(d.Ab(1),d.Bc(" "))}function _(e,t){if(1&e&&(d.Sb(0,"td",48),d.Sb(1,"div",43),d.Ac(2),d.Rb(),d.Rb()),2&e){var n=d.ec().$implicit;d.Ab(2),d.Bc(n.responsable.name)}}function v(e,t){if(1&e){var n=d.Tb();d.Sb(0,"button",51),d.cc("click",function(){d.tc(n);var e=d.ec(2).$implicit;return d.ec().internal_passe_update(e.id)}),d.Ac(1," Guardar "),d.Rb()}}function y(e,t){if(1&e&&(d.Sb(0,"td",49),d.yc(1,v,2,0,"button",50),d.Rb()),2&e){var n=d.ec().$implicit;d.Ab(1),d.kc("ngIf",null==n.to_date)}}function R(e,t){if(1&e&&(d.Sb(0,"tr"),d.Sb(1,"td",31),d.Ac(2),d.Rb(),d.Sb(3,"td",32),d.Ac(4),d.Rb(),d.Sb(5,"td",32),d.Ac(6),d.Rb(),d.Sb(7,"td",33),d.yc(8,u,2,1,"textarea",34),d.yc(9,g,2,2,"ng-template",null,35,d.zc),d.Rb(),d.yc(11,m,2,1,"td",36),d.yc(12,A,4,2,"ng-template",null,37,d.zc),d.yc(14,S,2,1,"td",36),d.yc(15,x,2,1,"ng-template",null,38,d.zc),d.yc(17,_,3,1,"td",39),d.yc(18,y,2,1,"ng-template",null,40,d.zc),d.Rb()),2&e){var n=t.$implicit,a=t.index,s=d.sc(10),i=d.sc(13),l=d.sc(16),c=d.sc(19),r=d.ec();d.Ab(2),d.Cc(" ",r.internal_passes.from+a," "),d.Ab(2),d.Cc(" ",n.from.name," "),d.Ab(2),d.Cc(" ",n.from_date," "),d.Ab(2),d.kc("ngIf",n.status||!r.fileClose)("ngIfElse",s),d.Ab(3),d.kc("ngIf",n.status)("ngIfElse",i),d.Ab(3),d.kc("ngIf",n.status)("ngIfElse",l),d.Ab(3),d.kc("ngIf",n.status||!r.fileClose)("ngIfElse",c)}}function w(e,t){if(1&e&&(d.Sb(0,"div"),d.Sb(1,"li",55),d.Ob(2,"a",56),d.Rb(),d.Rb()),2&e){var n=d.ec().$implicit;d.Ab(2),d.kc("innerHTML",n.label,d.uc)}}function I(e,t){if(1&e&&(d.Qb(0),d.Sb(1,"li",58),d.Ob(2,"p",59),d.Rb(),d.Pb()),2&e){var n=d.ec(2).$implicit;d.Ab(2),d.kc("innerHTML",n.label,d.uc)}}function k(e,t){if(1&e){var n=d.Tb();d.Sb(0,"li",60),d.Sb(1,"p",61),d.cc("click",function(){d.tc(n);var e=d.ec(2).$implicit;return d.ec().goToUrl(e.url)}),d.Rb(),d.Rb()}if(2&e){var a=d.ec(2).$implicit;d.Ab(1),d.kc("innerHTML",a.label,d.uc)}}function P(e,t){if(1&e&&(d.yc(0,I,3,1,"ng-container",53),d.yc(1,k,2,1,"ng-template",null,57,d.zc)),2&e){var n=d.sc(2),a=d.ec().index,s=d.ec();d.kc("ngIf",s.internal_passes.current_page===s.internal_passes.last_page&&a==s.internal_passes.last_page+1||1===s.internal_passes.current_page&&0==a)("ngIfElse",n)}}function M(e,t){if(1&e&&(d.Sb(0,"ul",52),d.yc(1,w,3,1,"div",53),d.yc(2,P,3,2,"ng-template",null,54,d.zc),d.Rb()),2&e){var n=t.$implicit,a=d.sc(3);d.Ab(1),d.kc("ngIf",n.active)("ngIfElse",a)}}var C,O,T,E=function(){return["/passes"]},D=[{path:"",component:(C=function(){function n(t,a,s){e(this,n),this.DB=t,this.router=a,this.DATA=s,this.newInternalPasse={id:"",from:0,from_date:"",responsable:"",response:"",to:0,to_date:"",status:"",external_passe:"",file_id:0},this.totPage=[],this.currentPage=0,this.alerts=[],this.alerts=this.DB.alerts}var a,s,l;return a=n,(s=[{key:"ngOnInit",value:function(){var e=this;this.file=this.DATA.file,this.newInternalPasse.file_id=this.file[0].id,this.fileClose=this.file[0].status,this.external_passe_id=this.DATA.External_passe_edit_id,console.log(this.fileClose),this.DB.internal_passe_search(this.external_passe_id).subscribe({next:function(t){e.internal_passes=t,e.external_passe=e.internal_passes.data[0].external_passe,e.newInternalPasse.response=e.internal_passes.data[0].response}}),this.DB.Offices_list().subscribe({next:function(t){e.offices=t,e.external_passe_from=e.offices.filter(function(t){return t.id==e.external_passe.from})}}),this.DB.userList().subscribe({next:function(t){e.users=t}}),this.today=new Date,this.newInternalPasse.to_date=Object(i.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.currentPage=1}},{key:"internal_passe_create",value:function(){var e=this;this.newInternalPasse.from=Number(localStorage.getItem("id")),this.newInternalPasse.external_passe=this.external_passe_id,this.newInternalPasse.from_date=Object(i.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.newInternalPasse.status="0",this.newInternalPasse.to_date=null,this.DB.internal_passe_create(this.newInternalPasse).subscribe({next:function(t){console.log(t),e.ngOnInit()}})}},{key:"internal_passe_update",value:function(e){var t=this;this.newInternalPasse.responsable=localStorage.getItem("id"),this.newInternalPasse.status="1",this.newInternalPasse.to_date=Object(i.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.newInternalPasse.external_passe=this.external_passe_id,this.newInternalPasse.id=e,this.DB.internal_passe_update(this.newInternalPasse).subscribe({next:function(e){t.newInternalPasse.from=t.newInternalPasse.to,t.newInternalPasse.from_date=Object(i.t)(t.today,"yyyy-MM-dd hh:mm:ss","en-US"),t.newInternalPasse.status="0",t.newInternalPasse.to=null,t.newInternalPasse.to_date=null,console.log(t.newInternalPasse),t.DB.internal_passe_create(t.newInternalPasse).subscribe({next:function(e){t.ngOnInit()}}),t.ngOnInit()}})}},{key:"goToUrl",value:function(e){var t=this;this.DB.GoToUrl(e).subscribe({next:function(e){t.internal_passes=e,console.log(t.internal_passes)}})}},{key:"closeAlert",value:function(e){var t=this.alerts.indexOf(e);this.alerts.splice(t,1)}}])&&t(a.prototype,s),l&&t(a,l),n}(),C.\u0275fac=function(e){return new(e||C)(d.Nb(o.a),d.Nb(b.b),d.Nb(p.a))},C.\u0275cmp=d.Hb({type:C,selectors:[["app-passe"]],decls:66,vars:17,consts:[[1,"card","mb-3"],[1,"card-header","d-flex","justify-content-between"],[1,"d-flex"],[1,"ml-2",2,"font-weight","900"],["type","button",1,"btn","btn-m","btn-danger",3,"routerLink"],["class","small",4,"ngFor","ngForOf"],[1,"table","table-hover","table-striped","m-0"],[1,""],[1,"mx-auto","row"],[1,"small","pt-0","pb-0","px-2","col-xl-4","justify-content-center"],[1,"small","pt-0","pb-0","px-3","col-xl-6"],[1,"small","pt-0","pb-0","pl-4","col-xl-2"],[1,"row","d-flex","justify-content-between"],[1,"col-xl-4","ml-3"],["type","text","rows","2","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-5"],["type","text","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-2","mr-4"],[1,"card","small"],[1,"card-header","d-flex","justify-content-between","p-0"],[1,"centrado"],[1,"resaltado"],[1,"card-body","table-responsive","p-0"],[1,"table","table-hover","table-striped"],[1,"mx-auto"],[1,"small","pt-0","pb-0","px-2"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example",1,"d-flex","justify-content-center"],["class","pagination",4,"ngFor","ngForOf"],[1,"small"],[1,"m-0",3,"type","close"],["width","4",1,"small","pt-0","pb-0","px-1","b-0"],["width","150",1,"small","pt-0","pb-0","px-1","b-0"],["width","400",1,"small","pt-0","pb-0","px-1","b-0"],["rows","2","cols","60","disabled","",4,"ngIf","ngIfElse"],["ElseResponse",""],["width","150","class","small pt-0 pb-0 px-1 b-0",4,"ngIf","ngIfElse"],["ElseTo",""],["ElseToDate",""],["width","75","class","small pt-0 pb-0 px-1 b-0",4,"ngIf","ngIfElse"],["ElseResponsable",""],["rows","2","cols","60","disabled",""],["rows","2","cols","60",3,"ngModel","ngModelChange"],[1,"center"],["aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",1,"form-control","small","mr-1","p-0","b-0","text-center","w-100","h-75","peke",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["width","150",1,"small","pt-1","pb-0","px-1","b-0"],["width","75",1,"small","pt-0","pb-0","px-1","b-0"],[1,"d-flex","justify-content-center","m-0","b-0","pr-0","pl-1","pt-1","pb-0"],["class","btn btn-outline-success pt-0 pb-0 px-2  ml-1  ","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","pt-0","pb-0","px-2","ml-1",3,"click"],[1,"pagination"],[4,"ngIf","ngIfElse"],["noActive",""],[1,"page-item","active"],[1,"page-link","p-0","pl-1","pr-1","active",2,"margin","1px",3,"innerHTML"],["elseTemplate",""],[1,"page-item","disabled"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML"],[1,"page-item"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML","click"]],template:function(e,t){1&e&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Ac(3," Expediente N\xb0 "),d.Sb(4,"div",3),d.Ac(5),d.Rb(),d.Rb(),d.Sb(6,"button",4),d.Ac(7," Volver "),d.Rb(),d.Rb(),d.Sb(8,"div"),d.yc(9,f,3,2,"p",5),d.Sb(10,"table",6),d.Sb(11,"thead",7),d.Sb(12,"tr",8),d.Sb(13,"th",9),d.Ac(14,"Iniciador"),d.Rb(),d.Sb(15,"th",10),d.Ac(16,"Referencia"),d.Rb(),d.Sb(17,"th",11),d.Ac(18,"Grupo"),d.Rb(),d.Rb(),d.Rb(),d.Sb(19,"tbody",12),d.Sb(20,"td",13),d.Sb(21,"textarea",14),d.cc("ngModelChange",function(e){return t.file[0].initiator=e}),d.Ac(22,"                    "),d.Rb(),d.Rb(),d.Sb(23,"td",15),d.Sb(24,"textarea",16),d.cc("ngModelChange",function(e){return t.file[0].concept=e}),d.Ac(25,"                    "),d.Rb(),d.Rb(),d.Sb(26,"td",17),d.Sb(27,"textarea",16),d.cc("ngModelChange",function(e){return t.file[0].agrupation.name=e}),d.Ac(28,"                    "),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(29,"div",18),d.Sb(30,"div",19),d.Sb(31,"div",2),d.Sb(32,"div",20),d.Ac(33," Pase desde"),d.Rb(),d.Sb(34,"div",21),d.Ac(35),d.Rb(),d.Sb(36,"div",20),d.Ac(37," ingresado el "),d.Rb(),d.Sb(38,"div",21),d.Ac(39),d.fc(40,"date"),d.Rb(),d.Sb(41,"div",3),d.Ac(42),d.Rb(),d.Rb(),d.Rb(),d.Sb(43,"div"),d.Sb(44,"div",22),d.Sb(45,"table",23),d.Sb(46,"thead"),d.Sb(47,"tr",24),d.Sb(48,"th",25),d.Ac(49,"N\xb0"),d.Rb(),d.Sb(50,"th",25),d.Ac(51,"Desde"),d.Rb(),d.Sb(52,"th",25),d.Ac(53,"Fecha Ingreso"),d.Rb(),d.Sb(54,"th",25),d.Ac(55,"Respuesta"),d.Rb(),d.Sb(56,"th",25),d.Ac(57,"Hacia"),d.Rb(),d.Sb(58,"th",25),d.Ac(59,"Fecha salida"),d.Rb(),d.Sb(60,"th",25),d.Ac(61,"Responsable"),d.Rb(),d.Rb(),d.Rb(),d.Sb(62,"tbody"),d.yc(63,R,20,11,"tr",26),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(64,"nav",27),d.yc(65,M,4,2,"ul",28),d.Rb()),2&e&&(d.Ab(5),d.Ec(" ",t.file[0].dependence_number,"-",t.file[0].central_number,"-",t.file[0].final_number," "),d.Ab(1),d.kc("routerLink",d.nc(16,E)),d.Ab(3),d.kc("ngForOf",t.alerts),d.Ab(12),d.kc("ngModel",t.file[0].initiator),d.Ab(3),d.kc("ngModel",t.file[0].concept),d.Ab(3),d.kc("ngModel",t.file[0].agrupation.name),d.Ab(8),d.Bc(t.external_passe_from[0].name),d.Ab(4),d.Bc(d.hc(40,13,t.external_passe.from_date,"shortDate")),d.Ab(3),d.Cc(" ",t.external_passe_from.id," "),d.Ab(21),d.kc("ngForOf",t.internal_passes.data),d.Ab(2),d.kc("ngForOf",t.internal_passes.links))},directives:[b.c,i.l,r.b,r.j,r.m,c.b,i.m,r.q,r.n,r.s],pipes:[i.d],styles:[".resaltado[_ngcontent-%COMP%]{font-size:larger;font-weight:900;padding-right:6px;padding-left:6px}.centrado[_ngcontent-%COMP%]{padding-top:2px}.peke[_ngcontent-%COMP%]{font-size:small;padding-right:6px;padding-left:6px}"]}),C)}],$=((T=function t(){e(this,t)}).\u0275fac=function(e){return new(e||T)},T.\u0275mod=d.Lb({type:T}),T.\u0275inj=d.Kb({imports:[[b.f.forChild(D)],b.f]}),T),j=((O=function t(){e(this,t)}).\u0275fac=function(e){return new(e||O)},O.\u0275mod=d.Lb({type:O}),O.\u0275inj=d.Kb({imports:[[i.b,$,l.b,c.n,r.f]]}),O)}}])}();