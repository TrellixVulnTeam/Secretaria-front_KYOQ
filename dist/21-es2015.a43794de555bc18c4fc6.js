(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{qtcw:function(e,t,n){"use strict";n.r(t),n.d(t,"PasseModule",function(){return O});var s=n("ofXK"),i=n("M0ag"),a=n("1kSV"),c=n("3Pt+"),l=n("tyNb"),b=n("nA5i"),r=n("R7Hv"),o=n("fXoL");function p(e,t){if(1&e){const e=o.Tb();o.Sb(0,"p",29),o.Sb(1,"ngb-alert",30),o.cc("close",function(){o.tc(e);const n=t.$implicit;return o.ec().closeAlert(n)}),o.Ac(2),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit;o.Ab(1),o.kc("type",e.type),o.Ab(1),o.Bc(e.message)}}function d(e,t){if(1&e&&(o.Sb(0,"textarea",41),o.Ac(1),o.Rb()),2&e){const e=o.ec().$implicit;o.Ab(1),o.Cc(" ",e.response,"")}}function f(e,t){if(1&e){const e=o.Tb();o.Sb(0,"textarea",42),o.cc("ngModelChange",function(t){return o.tc(e),o.ec(2).newInternalPasse.response=t}),o.Ac(1),o.Rb()}if(2&e){const e=o.ec().$implicit,t=o.ec();o.kc("ngModel",t.newInternalPasse.response),o.Ab(1),o.Cc(" ",e.response,"")}}function u(e,t){if(1&e&&(o.Sb(0,"td",32),o.Ac(1),o.Rb()),2&e){const e=o.ec().$implicit;o.Ab(1),o.Cc(" ",e.to.name," ")}}function g(e,t){if(1&e&&(o.Sb(0,"option",46),o.Ac(1),o.Rb()),2&e){const e=t.$implicit;o.kc("value",e.id),o.Ab(1),o.Cc(" ",e.name," ")}}function h(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",43),o.Sb(1,"select",44),o.cc("ngModelChange",function(t){return o.tc(e),o.ec(2).newInternalPasse.to=t}),o.Ob(2,"option"),o.yc(3,g,2,2,"option",45),o.Rb(),o.Rb()}if(2&e){const e=o.ec(2);o.Ab(1),o.kc("ngModel",e.newInternalPasse.to),o.Ab(2),o.kc("ngForOf",e.users)}}function m(e,t){if(1&e&&(o.Sb(0,"td",32),o.Ac(1),o.Rb()),2&e){const e=o.ec().$implicit;o.Ab(1),o.Cc(" ",e.to_date," ")}}function A(e,t){1&e&&(o.Sb(0,"td",47),o.Ac(1),o.Rb()),2&e&&(o.Ab(1),o.Bc(" "))}function S(e,t){if(1&e&&(o.Sb(0,"td",48),o.Sb(1,"div",43),o.Ac(2),o.Rb(),o.Rb()),2&e){const e=o.ec().$implicit;o.Ab(2),o.Bc(e.responsable.name)}}function x(e,t){if(1&e){const e=o.Tb();o.Sb(0,"button",51),o.cc("click",function(){o.tc(e);const t=o.ec(2).$implicit;return o.ec().internal_passe_update(t.id)}),o.Ac(1," Guardar "),o.Rb()}}function _(e,t){if(1&e&&(o.Sb(0,"td",49),o.yc(1,x,2,0,"button",50),o.Rb()),2&e){const e=o.ec().$implicit;o.Ab(1),o.kc("ngIf",null==e.to_date)}}function R(e,t){if(1&e&&(o.Sb(0,"tr"),o.Sb(1,"td",31),o.Ac(2),o.Rb(),o.Sb(3,"td",32),o.Ac(4),o.Rb(),o.Sb(5,"td",32),o.Ac(6),o.Rb(),o.Sb(7,"td",33),o.yc(8,d,2,1,"textarea",34),o.yc(9,f,2,2,"ng-template",null,35,o.zc),o.Rb(),o.yc(11,u,2,1,"td",36),o.yc(12,h,4,2,"ng-template",null,37,o.zc),o.yc(14,m,2,1,"td",36),o.yc(15,A,2,1,"ng-template",null,38,o.zc),o.yc(17,S,3,1,"td",39),o.yc(18,_,2,1,"ng-template",null,40,o.zc),o.Rb()),2&e){const e=t.$implicit,n=t.index,s=o.sc(10),i=o.sc(13),a=o.sc(16),c=o.sc(19),l=o.ec();o.Ab(2),o.Cc(" ",l.internal_passes.from+n," "),o.Ab(2),o.Cc(" ",e.from.name," "),o.Ab(2),o.Cc(" ",e.from_date," "),o.Ab(2),o.kc("ngIf",e.status||!l.fileClose)("ngIfElse",s),o.Ab(3),o.kc("ngIf",e.status)("ngIfElse",i),o.Ab(3),o.kc("ngIf",e.status)("ngIfElse",a),o.Ab(3),o.kc("ngIf",e.status||!l.fileClose)("ngIfElse",c)}}function y(e,t){if(1&e&&(o.Sb(0,"div"),o.Sb(1,"li",55),o.Ob(2,"a",56),o.Rb(),o.Rb()),2&e){const e=o.ec().$implicit;o.Ab(2),o.kc("innerHTML",e.label,o.uc)}}function w(e,t){if(1&e&&(o.Qb(0),o.Sb(1,"li",58),o.Ob(2,"p",59),o.Rb(),o.Pb()),2&e){const e=o.ec(2).$implicit;o.Ab(2),o.kc("innerHTML",e.label,o.uc)}}function I(e,t){if(1&e){const e=o.Tb();o.Sb(0,"li",60),o.Sb(1,"p",61),o.cc("click",function(){o.tc(e);const t=o.ec(2).$implicit;return o.ec().goToUrl(t.url)}),o.Rb(),o.Rb()}if(2&e){const e=o.ec(2).$implicit;o.Ab(1),o.kc("innerHTML",e.label,o.uc)}}function P(e,t){if(1&e&&(o.yc(0,w,3,1,"ng-container",53),o.yc(1,I,2,1,"ng-template",null,57,o.zc)),2&e){const e=o.sc(2),t=o.ec().index,n=o.ec();o.kc("ngIf",n.internal_passes.current_page===n.internal_passes.last_page&&t==n.internal_passes.last_page+1||1===n.internal_passes.current_page&&0==t)("ngIfElse",e)}}function k(e,t){if(1&e&&(o.Sb(0,"ul",52),o.yc(1,y,3,1,"div",53),o.yc(2,P,3,2,"ng-template",null,54,o.zc),o.Rb()),2&e){const e=t.$implicit,n=o.sc(3);o.Ab(1),o.kc("ngIf",e.active)("ngIfElse",n)}}const M=function(){return["/passes"]},v=[{path:"",component:(()=>{class e{constructor(e,t,n){this.DB=e,this.router=t,this.DATA=n,this.newInternalPasse={id:"",from:0,from_date:"",responsable:"",response:"",to:0,to_date:"",status:"",external_passe:"",file_id:0},this.totPage=[],this.currentPage=0,this.alerts=[],this.alerts=this.DB.alerts}ngOnInit(){this.file=this.DATA.file,this.newInternalPasse.file_id=this.file[0].id,this.fileClose=this.file[0].status,this.external_passe_id=this.DATA.External_passe_edit_id,console.log(this.fileClose),this.DB.internal_passe_search(this.external_passe_id).subscribe({next:e=>{this.internal_passes=e,this.external_passe=this.internal_passes.data[0].external_passe,this.newInternalPasse.response=this.internal_passes.data[0].response}}),this.DB.Offices_list().subscribe({next:e=>{this.offices=e,this.external_passe_from=this.offices.filter(e=>e.id==this.external_passe.from)}}),this.DB.userList().subscribe({next:e=>{this.users=e}}),this.today=new Date,this.newInternalPasse.to_date=Object(s.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.currentPage=1}internal_passe_create(){this.newInternalPasse.from=Number(localStorage.getItem("id")),this.newInternalPasse.external_passe=this.external_passe_id,this.newInternalPasse.from_date=Object(s.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.newInternalPasse.status="0",this.newInternalPasse.to_date=null,this.DB.internal_passe_create(this.newInternalPasse).subscribe({next:e=>{console.log(e),this.ngOnInit()}})}internal_passe_update(e){this.newInternalPasse.responsable=localStorage.getItem("id"),this.newInternalPasse.status="1",this.newInternalPasse.to_date=Object(s.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.newInternalPasse.external_passe=this.external_passe_id,this.newInternalPasse.id=e,this.DB.internal_passe_update(this.newInternalPasse).subscribe({next:e=>{this.newInternalPasse.from=this.newInternalPasse.to,this.newInternalPasse.from_date=Object(s.t)(this.today,"yyyy-MM-dd hh:mm:ss","en-US"),this.newInternalPasse.status="0",this.newInternalPasse.to=null,this.newInternalPasse.to_date=null,console.log(this.newInternalPasse),this.DB.internal_passe_create(this.newInternalPasse).subscribe({next:e=>{this.ngOnInit()}}),this.ngOnInit()}})}goToUrl(e){this.DB.GoToUrl(e).subscribe({next:e=>{this.internal_passes=e,console.log(this.internal_passes)}})}closeAlert(e){const t=this.alerts.indexOf(e);this.alerts.splice(t,1)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(b.a),o.Nb(l.b),o.Nb(r.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-passe"]],decls:66,vars:17,consts:[[1,"card","mb-3"],[1,"card-header","d-flex","justify-content-between"],[1,"d-flex"],[1,"ml-2",2,"font-weight","900"],["type","button",1,"btn","btn-m","btn-danger",3,"routerLink"],["class","small",4,"ngFor","ngForOf"],[1,"table","table-hover","table-striped","m-0"],[1,""],[1,"mx-auto","row"],[1,"small","pt-0","pb-0","px-2","col-xl-4","justify-content-center"],[1,"small","pt-0","pb-0","px-3","col-xl-6"],[1,"small","pt-0","pb-0","pl-4","col-xl-2"],[1,"row","d-flex","justify-content-between"],[1,"col-xl-4","ml-3"],["type","text","rows","2","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-5"],["type","text","aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm","disabled","",1,"form-control","mr-1","p-0","text-center",3,"ngModel","ngModelChange"],[1,"col-xl-2","mr-4"],[1,"card","small"],[1,"card-header","d-flex","justify-content-between","p-0"],[1,"centrado"],[1,"resaltado"],[1,"card-body","table-responsive","p-0"],[1,"table","table-hover","table-striped"],[1,"mx-auto"],[1,"small","pt-0","pb-0","px-2"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example",1,"d-flex","justify-content-center"],["class","pagination",4,"ngFor","ngForOf"],[1,"small"],[1,"m-0",3,"type","close"],["width","4",1,"small","pt-0","pb-0","px-1","b-0"],["width","150",1,"small","pt-0","pb-0","px-1","b-0"],["width","400",1,"small","pt-0","pb-0","px-1","b-0"],["rows","2","cols","60","disabled","",4,"ngIf","ngIfElse"],["ElseResponse",""],["width","150","class","small pt-0 pb-0 px-1 b-0",4,"ngIf","ngIfElse"],["ElseTo",""],["ElseToDate",""],["width","75","class","small pt-0 pb-0 px-1 b-0",4,"ngIf","ngIfElse"],["ElseResponsable",""],["rows","2","cols","60","disabled",""],["rows","2","cols","60",3,"ngModel","ngModelChange"],[1,"center"],["aria-label","Sizing example input","aria-describedby","inputGroup-sizing-sm",1,"form-control","small","mr-1","p-0","b-0","text-center","w-100","h-75","peke",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["width","150",1,"small","pt-1","pb-0","px-1","b-0"],["width","75",1,"small","pt-0","pb-0","px-1","b-0"],[1,"d-flex","justify-content-center","m-0","b-0","pr-0","pl-1","pt-1","pb-0"],["class","btn btn-outline-success pt-0 pb-0 px-2  ml-1  ","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","pt-0","pb-0","px-2","ml-1",3,"click"],[1,"pagination"],[4,"ngIf","ngIfElse"],["noActive",""],[1,"page-item","active"],[1,"page-link","p-0","pl-1","pr-1","active",2,"margin","1px",3,"innerHTML"],["elseTemplate",""],[1,"page-item","disabled"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML"],[1,"page-item"],[1,"page-link","p-0","pl-1","pr-1",2,"margin","1px",3,"innerHTML","click"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Ac(3," Expediente N\xb0 "),o.Sb(4,"div",3),o.Ac(5),o.Rb(),o.Rb(),o.Sb(6,"button",4),o.Ac(7," Volver "),o.Rb(),o.Rb(),o.Sb(8,"div"),o.yc(9,p,3,2,"p",5),o.Sb(10,"table",6),o.Sb(11,"thead",7),o.Sb(12,"tr",8),o.Sb(13,"th",9),o.Ac(14,"Iniciador"),o.Rb(),o.Sb(15,"th",10),o.Ac(16,"Referencia"),o.Rb(),o.Sb(17,"th",11),o.Ac(18,"Grupo"),o.Rb(),o.Rb(),o.Rb(),o.Sb(19,"tbody",12),o.Sb(20,"td",13),o.Sb(21,"textarea",14),o.cc("ngModelChange",function(e){return t.file[0].initiator=e}),o.Ac(22,"                    "),o.Rb(),o.Rb(),o.Sb(23,"td",15),o.Sb(24,"textarea",16),o.cc("ngModelChange",function(e){return t.file[0].concept=e}),o.Ac(25,"                    "),o.Rb(),o.Rb(),o.Sb(26,"td",17),o.Sb(27,"textarea",16),o.cc("ngModelChange",function(e){return t.file[0].agrupation.name=e}),o.Ac(28,"                    "),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(29,"div",18),o.Sb(30,"div",19),o.Sb(31,"div",2),o.Sb(32,"div",20),o.Ac(33," Pase desde"),o.Rb(),o.Sb(34,"div",21),o.Ac(35),o.Rb(),o.Sb(36,"div",20),o.Ac(37," ingresado el "),o.Rb(),o.Sb(38,"div",21),o.Ac(39),o.fc(40,"date"),o.Rb(),o.Sb(41,"div",3),o.Ac(42),o.Rb(),o.Rb(),o.Rb(),o.Sb(43,"div"),o.Sb(44,"div",22),o.Sb(45,"table",23),o.Sb(46,"thead"),o.Sb(47,"tr",24),o.Sb(48,"th",25),o.Ac(49,"N\xb0"),o.Rb(),o.Sb(50,"th",25),o.Ac(51,"Desde"),o.Rb(),o.Sb(52,"th",25),o.Ac(53,"Fecha Ingreso"),o.Rb(),o.Sb(54,"th",25),o.Ac(55,"Respuesta"),o.Rb(),o.Sb(56,"th",25),o.Ac(57,"Hacia"),o.Rb(),o.Sb(58,"th",25),o.Ac(59,"Fecha salida"),o.Rb(),o.Sb(60,"th",25),o.Ac(61,"Responsable"),o.Rb(),o.Rb(),o.Rb(),o.Sb(62,"tbody"),o.yc(63,R,20,11,"tr",26),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(64,"nav",27),o.yc(65,k,4,2,"ul",28),o.Rb()),2&e&&(o.Ab(5),o.Ec(" ",t.file[0].dependence_number,"-",t.file[0].central_number,"-",t.file[0].final_number," "),o.Ab(1),o.kc("routerLink",o.nc(16,M)),o.Ab(3),o.kc("ngForOf",t.alerts),o.Ab(12),o.kc("ngModel",t.file[0].initiator),o.Ab(3),o.kc("ngModel",t.file[0].concept),o.Ab(3),o.kc("ngModel",t.file[0].agrupation.name),o.Ab(8),o.Bc(t.external_passe_from[0].name),o.Ab(4),o.Bc(o.hc(40,13,t.external_passe.from_date,"shortDate")),o.Ab(3),o.Cc(" ",t.external_passe_from.id," "),o.Ab(21),o.kc("ngForOf",t.internal_passes.data),o.Ab(2),o.kc("ngForOf",t.internal_passes.links))},directives:[l.c,s.l,c.b,c.j,c.m,a.b,s.m,c.q,c.n,c.s],pipes:[s.d],styles:[".resaltado[_ngcontent-%COMP%]{font-size:larger;font-weight:900;padding-right:6px;padding-left:6px}.centrado[_ngcontent-%COMP%]{padding-top:2px}.peke[_ngcontent-%COMP%]{font-size:small;padding-right:6px;padding-left:6px}"]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[l.f.forChild(v)],l.f]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[s.b,C,i.b,a.n,c.f]]}),e})()}}]);